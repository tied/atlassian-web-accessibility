define("confluence/breadcrumbs",["jquery","ajs","document","confluence/templates"],function(e,r,c,n){"use strict";return{init:function(){e(c).on("click","#ellipsis",function(){try{e("#breadcrumbs .hidden-crumb").removeClass("hidden-crumb"),e(this).addClass("hidden-crumb"),r.trigger("breadcrumbs.expanded")}catch(e){r.log(e)}}),e("#ellipsis").keyup(function(r){13===r.keyCode&&e(this).click()})},update:function(c,i){var s={spaceKey:c,title:i};e.ajax({type:"GET",dataType:"json",data:s,url:r.contextPath()+"/pages/breadcrumb.action",error:function(){},success:function(r){r&&r.breadcrumbs&&e("ol#breadcrumbs").html(n.Breadcrumbs.render({breadcrumbs:r.breadcrumbs,ellipsisIndex:r.ellipsisIndex,ellipsisLength:r.ellipsisLength}))}})}}}),require("confluence/module-exporter").safeRequire("confluence/breadcrumbs",function(e){"use strict";require("ajs").toInit(e.init)});