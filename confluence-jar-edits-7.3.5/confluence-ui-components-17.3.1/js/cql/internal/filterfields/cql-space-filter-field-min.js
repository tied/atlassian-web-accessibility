define("confluence-ui-components/js/cql/internal/filterfields/cql-space-filter-field",["jquery","confluence-ui-components/js/space-picker","confluence-ui-components/js/include-exclude-picker","confluence-ui-components/js/cql/internal/cql-special-spaces","confluence-ui-components/js/cql/internal/cql-space-expression-adjuster","confluence-ui-components/js/cql/internal/cql-space-expression-builder","confluence-ui-components/js/cql/internal/cql-set-value-helper","confluence-ui-components/js/cql/internal/cql-soy-templates"],function(c,f,b,e,i,g,d,a){function h(){var j;return{setupInput:function(k,l){j=k;k.auiSelect2(b.build(f.build({multiple:true,suggestCategories:e.getKeys(l.environment),disableMixedSpaceTypes:true})));if(l.environment==="search-screen"){var m=c(a.SpaceField().archivedSpacesOption());j.after(m);this.onChange=function(o){var n=m.find("#search-filter-include-archived");n.change(o);j.change(o)}}},asCqlFunc:function(){return g.buildExpressionFromValuesString(this.input.val())},setValues:function(k){i.convertFunctionValues(k);return d.setValues(j,k.values)}}}return{build:h}});