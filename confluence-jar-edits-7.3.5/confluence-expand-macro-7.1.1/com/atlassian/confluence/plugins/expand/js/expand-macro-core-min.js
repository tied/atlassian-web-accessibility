!function(){var n=function(n){this.$=n,this.createToggleFunction=function(n){var e=this.$;return function(a){if(void 0===n||n(a)){var o,t=e(this),i=e(".expand-icon",t),c=e(".expand-content",t.closest(".expand-container")).first();c.hasClass("expand-hidden")?(i.removeClass("aui-iconfont-chevron-right").addClass("aui-iconfont-chevron-down"),c.css("display","block"),c.animate({opacity:1}),t.attr("aria-expanded","true"),o="expand"):(i.removeClass("aui-iconfont-chevron-down").addClass("aui-iconfont-chevron-right"),c.animate({opacity:0},{complete:function(){c.hide(),t.attr("aria-expanded","false")}}),o="collapse"),c.toggleClass("expand-hidden"),"expand"===o?AJS.trigger("confluence.expand-macro.expanded"):AJS.trigger("confluence.expand-macro.collapsed"),AJS.trigger("analyticsEvent",{name:"confluence.expand-macro.expand-click",data:{userAction:o}})}}},this.getExpandElements=function(n){return this.$("div[id^='expander-control-'].expand-control",n)}};"undefined"==typeof Confluence&&(Confluence={}),void 0===Confluence.Plugins&&(Confluence.Plugins={}),Confluence.Plugins.ExpandMacro={bind:function(e,a,o,t){var i=new n(e),c=i.getExpandElements(a);c.length&&c.bind(o,i.createToggleFunction(t))}}}();