define("confluence-drag-and-drop/insert-dialog-upload-controller",["confluence/meta","ajs","jquery"],function(d,e,c){var b=function(a){this.messageHandler=null;this.context=a;a=this.getForm();d.getBoolean("can-attach-files")||a.remove()};b.prototype.getForm=function(){return c("form",this.context.baseElement)};b.prototype.pack=function(){};b.prototype.displayErrors=function(a){this.getMessageHandler().displayMessages(a);a=this.getMessageHandler().getMessageContainer().find("ul");a.toggleClass("one-message",
1===a.find("li").length);this.pack()};b.prototype.clearErrors=function(){this.getMessageHandler().clearMessages();this.pack()};b.prototype.getMessageHandler=function(){this.messageHandler||(this.messageHandler=e.MessageHandler({baseElement:c(".aui-message",this.context.baseElement)}));return this.messageHandler};return b});require("confluence/module-exporter").exportModuleAsGlobal("confluence-drag-and-drop/insert-dialog-upload-controller","Confluence.DragAndDrop.UploadClientController");