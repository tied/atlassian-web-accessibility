define("confluence-collaborative-editor-plugin/btf/service/task-service",["ajs"],function(a){var c=a.contextPath()+"/rest/api/longtask/<taskId>";var e=800;function b(g,f,i,j){h();function h(){d(g).done(function(k){f&&typeof f==="function"&&f(k);if(!k.successful){return j&&typeof j==="function"&&j(k)}if(+k.percentageComplete>=100){return i&&typeof i==="function"&&i(k)}setTimeout(h,e)})}}function d(f){return a.$.ajax({url:c.replace("<taskId>",f)})}return{processTask:b}});