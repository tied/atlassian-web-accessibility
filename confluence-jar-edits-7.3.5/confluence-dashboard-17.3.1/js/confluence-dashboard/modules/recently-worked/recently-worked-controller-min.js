define("confluence-dashboard/modules/recently-worked/recently-worked-collection",["module","exports","backbone","configuration","confluence-dashboard/utils/date-utils","../../core/shared/base-collection-with-function","underscore","ajs"],function(e,t,n,a,r,o,d,l){"use strict";var s=n.Model,i=(a.apiLimit,a.endpoints),c=m(r).default,u=m(o).default,f=m(d).default;function m(e){return e&&e.__esModule?e:{default:e}}var p=m(l).default.contextPath(),g=s.extend({parse:function(e){var t=e.metadata.currentuser.lastcontributed&&e.metadata.currentuser.lastcontributed.when||null,n=e.metadata.currentuser.lastmodified&&e.metadata.currentuser.lastmodified.version&&e.metadata.currentuser.lastmodified.version.when||null,a=new Date(t||0),r=new Date(n||0),o=r<a?a:r,d=r<a?t:n,l=o.getTime();return f.extend(e,{url:"draft"===e.status?p+e._links.edit:p+e._links.webui,date:d,timestamp:l,lastContributedISO:c.toISODate(o),friendlyDate:"Updated "+d,updated:d,icon:"page"===e.type?"page":"blogpost"}),e}});t.default=u.extend({model:g,comparator:function(e,t){return-c.compareTimestamps(e.get("timestamp"),t.get("timestamp"))},apiParams:function(e){var t={url:i.RECENTLY_WORKED,expansions:["container","metadata.currentuser.lastcontributed","metadata.currentuser.lastmodified"],cql:"type in (page,blogpost) and id in recentlyModifiedPagesAndBlogPostsByUser(currentUser(), "+this.getPageOffset(e)+", "+this.getPageLimit(e)+")",cqlcontext:'{"contentStatuses":["current","draft"]}'};return t},groupMethod:function(e){return e.get("lastContributedISO")}}),e.exports=t.default}),define("confluence-dashboard/modules/recently-worked/recently-worked-controller",["module","exports","./recently-worked-collection","../../core/content/content-as-grouped-list-discovery-view","confluence-dashboard/core/content/content-controller","confluence-dashboard/soy-templates","ajs"],function(e,t,n,a,r,o,d){"use strict";var l=f(n).default,s=f(a).default,i=f(r).default,c=f(o).default,u=f(d).default;function f(e){return e&&e.__esModule?e:{default:e}}t.default=i.extend({actionsToFilter:["recentWorked"],recentWorked:function(){this.view=new s({collection:new l,templateHelpers:{title:u.I18n.getText("recently.worked.title"),contentType:this.options.name},emptyViewOptions:{template:c.RecentWorked.blank},className:"default-list-view starred-list"}),this.view.collection.fetch()}}),e.exports=t.default});