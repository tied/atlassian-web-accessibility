define("confluence-dashboard/modules/onboarding/onboarding-tooltip-view",["module","exports","marionette","configuration","jquery","../../utils/feature-discovery","../../utils/ensure-component","../../utils/event-manager"],function(i,t,e,n,o,s,l,r){"use strict";var a=e.ItemView,h=n.pluginKey,d=p(o).default,c=p(s).default,u=p(l).default,f=r.EventManager;function p(i){return i&&i.__esModule?i:{default:i}}t.default=a.extend({className:"onboarding-tooltip-wrapper",initialize:function(){this.featureDiscovery=c.forPlugin(h),this.target=this.options.placedNextTo,this.tipId=this.options.tipId,this.addToScreen()},addToScreen:function(){var i=this;if(this.featureDiscovery.canShow(this.tipId)){d(this.target).append(this.render().el);var t=this.$(".onboarding-tooltips");u(t[0]).then(function(){t.find(".btn-next").on("click",i.showNext.bind(i)),t.find(".btn-skip").on("click",i.skipTooltips.bind(i))}),this.listenTo(f,"sidebar:collapse",this.close.bind(this)),this.listenTo(f,"window:scroll",this.close.bind(this)),this.inlineDialog=t[0]}else this.destroy()},open:function(){var i=this;u(this.inlineDialog).then(function(){i.inlineDialog.open=!0})},close:function(){var i=this;u(this.inlineDialog).then(function(){i.inlineDialog.open=!1})},showNext:function(){this.featureDiscovery.markDiscovered(this.tipId),this.close(),this.trigger("next",this),this.destroy()},skipTooltips:function(){this.trigger("skip",this)},onDestroy:function(){var i=this;this.inlineDialog&&u(this.inlineDialog).then(function(){return i.inlineDialog.remove()})}}),i.exports=t.default});