define("confluence-dashboard/modules/onboarding/onboarding-view",["module","exports","../../core/shared/base-dialog","confluence-dashboard/soy-templates","configuration","../../utils/feature-discovery","underscore"],function(e,o,i,n,a,r,t){"use strict";var s=f(i).default,u=f(n).default,d=a.pluginKey,l=(a.staticResourceUrl,f(r).default),c=f(t).default;function f(e){return e&&e.__esModule?e:{default:e}}o.default=s.extend({className:"aui-layer aui-dialog2 aui-dialog2-medium confluence-dialog-no-chrome confluence-dialog-centered simple-onboarding",attributes:{id:"dashboard-onboarding-dialog","aria-hidden":!0},ui:{btnShow:".show-onboarding",btnSkip:".skip-onboarding"},events:{"click @ui.btnShow":"showOnboarding","click @ui.btnSkip":"skipOnboarding"},initialize:function(){this.featureDiscovery=l.forPlugin(d),this.featureDiscovery.canShow("dialog")?this.openDialog():this.remove()},onDestroy:function(){this.markAsSkipOnBoarding(),this.featureDiscovery=null},serializeData:function(){return{fullUsername:this.options.currentUserFullName}},getTemplate:function(){return u.Onboarding.newSimplifyOnboarding},showOnboarding:function(){this.featureDiscovery.markDiscoveredSafe("dialog"),this.closeDialog(),this.options.onConfirm&&c.isFunction(this.options.onConfirm)&&this.options.onConfirm()},markAsSkipOnBoarding:function(){this.featureDiscovery&&(this.featureDiscovery.markDiscoveredSafe("dialog"),this.featureDiscovery.markDiscoveredSafe("tips"))},skipOnboarding:function(){this.markAsSkipOnBoarding(),this.closeDialog()}}),e.exports=o.default}),define("confluence-dashboard/modules/onboarding/onboarding-controller",["../../utils/event-manager","./onboarding-view","../../utils/module-starter","confluence/meta","../../utils/conditions","ajs","configuration","../../utils/feature-discovery"],function(e,o,i,n,a,r,t,s){"use strict";var u=e.Commands,d=b(o).default,l=b(i).default,c=b(n).default,f=b(a).default,g=b(r).default,h=t.pluginKey,m=b(s).default;function b(e){return e&&e.__esModule?e:{default:e}}function p(){var e=c.getBoolean("is-confluence-admin"),o=c.getBoolean("is-new-user"),i=c.getBoolean("show-dashboard-onboarding-dialog"),n=(c.getBoolean("show-dashboard-onboarding-tips"),c.get("current-user-fullname")),a={isNew:o};if(i&&!e){var r=new d({currentUserFullName:n,isNewUser:o,isAdmin:e,onConfirm:function(){showTips(a)}});u.execute("main-app:showDialog",r)}o&&m.forPlugin(h).markDiscovered("transition-saved-for-later")}g.toInit(function(){f.canShowDashboard()&&l.register(p)})}),require(["confluence-dashboard/modules/onboarding/onboarding-controller"]);