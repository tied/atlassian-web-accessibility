(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.restful-table"],{"47Al":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=c(s("+x/D"));s("lyon");var a=c(s("qT0E")),o=c(s("vRZA")),r=c(s("oLrn")),l=c(s("HOn5")),d=c(s("HH5i")),u=s("t6J+");function c(e){return e&&e.__esModule?e:{default:e}}var h=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");t.default=a.default.View.extend({tagName:"tr",events:{focusin:"_focus",click:"_focus",keyup:"_handleKeyUpEvent"},initialize:function(e){var t=this;this.$el=(0,n.default)(this.el),this._event=l.default,this.classNames=o.default,this.dataKeys=r.default,this.columns=e.columns,this.isCreateRow=e.isCreateRow,this.allowReorder=e.allowReorder,this.events["click ."+this.classNames.CANCEL]="_cancel",this.delegateEvents(),e.isUpdateMode?this.isUpdateMode=!0:(this._modelClass=e.model,this.model=new this._modelClass),this.fieldFocusSelector=e.fieldFocusSelector,this.on(this._event.CANCEL,function(){return t.disabled=!0}).on(this._event.SAVE,function(e){return!t.disabled&&t.submit(e)}).on(this._event.FOCUS,function(e){return t.focus(e)}).on(this._event.BLUR,function(){t.$el.removeClass(t.classNames.FOCUSED),t.disable()}).on(this._event.SUBMIT_STARTED,function(){return t._submitStarted()}).on(this._event.SUBMIT_FINISHED,function(){return t._submitFinished()})},defaultColumnRenderer:function(e){return!1!==e.allowEdit?(0,n.default)("<input type='text' />").addClass("text").attr({name:e.name,value:e.value}):e.value?document.createTextNode(e.value):void 0},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},_handleKeyUpEvent:function(e){27===e.keyCode&&this.trigger(this._event.CANCEL)},_cancel:function(e){return this.trigger(this._event.CANCEL),e.preventDefault(),this},_submitStarted:function(){return this.submitting=!0,this.showLoading().disable().delegateEvents({}),this},_submitFinished:function(){return this.submitting=!1,this.hideLoading().enable().delegateEvents(this.events),this},_focus:function(e){return this.hasFocus()||this.trigger(this._event.FOCUS,e.target.name),this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(e){var t,s;return this.enable(),t=e?this.$el.find(this.fieldFocusSelector(e)):0===(s=this.$el.find(this.classNames.ERROR+":first")).length?this.$el.find(":input:text:first"):s.parent().find(":input"),this.$el.addClass(this.classNames.FOCUSED),t.focus().trigger("select"),this},disable:function(){var e,t;return h&&(t=this.$el.find(":submit")).length&&(e=(0,n.default)("<input type='submit' class='"+this.classNames.SUBMIT+"' />").addClass(t.attr("class")).val(t.val()).data(this.dataKeys.ENABLED_SUBMIT,t),t.replaceWith(e)),this.$el.addClass(this.classNames.DISABLED).find(":submit").attr("disabled","disabled"),this},enable:function(){var e,t;return h&&(t=(e=this.$el.find(this.classNames.SUBMIT)).data(this.dataKeys.ENABLED_SUBMIT))&&e.length&&e.replaceWith(t),this.$el.removeClass(this.classNames.DISABLED).find(":submit").removeAttr("disabled"),this},showLoading:function(){return(0,u.appendStatusSpinner)(this.$el),this},hideLoading:function(){return(0,u.removeStatusSpinner)(this.$el),this},hasUpdates:function(){return!!this.mapSubmitParams(this.serializeObject())},serializeObject:function(){var e=this.$el;return e.serializeObject?e.serializeObject():e.serialize()},mapSubmitParams:function(e){return this.model.changedAttributes(e)},submit:function(e){var t,s=this;if(document.activeElement!==window&&(0,n.default)(document.activeElement).blur(),this.isUpdateMode){if(!(t=this.mapSubmitParams(this.serializeObject())))return s.trigger(s._event.CANCEL)}else this.model.clear(),t=this.mapSubmitParams(this.serializeObject());return this.trigger(this._event.SUBMIT_STARTED),this.model.save(t,{success:function(){s.isUpdateMode?s.trigger(s._event.UPDATED,s.model,e):(s.trigger(s._event.CREATED,s.model.toJSON()),s.model=new s._modelClass,s.render({errors:{},values:{}}),s.trigger(s._event.FOCUS)),s.trigger(s._event.SUBMIT_FINISHED)},error:function(e,t,i){400===i.status&&(s.renderErrors(t.errors),s.trigger(s._event.VALIDATION_ERROR,t.errors)),s.trigger(s._event.SUBMIT_FINISHED)},silent:!0}),this},renderError:function(e,t){return(0,n.default)("<div />").attr("data-field",e).addClass(this.classNames.ERROR).text(t)},renderErrors:function(e){var t=this;return this.$("."+this.classNames.ERROR).remove(),e&&n.default.each(e,function(e,s){t.$el.find("[name='"+e+"']").closest("td").append(t.renderError(e,s))}),this},render:function(e){var t=this;return this.$el.empty(),this.allowReorder&&(0,n.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(t.$el),n.default.each(this.columns,function(s,a){var o,r,l=e.values[a.id],d=[{name:a.id,value:l,allowEdit:a.allowEdit},e.values,t.model];l&&t.$el.attr("data-"+a.id,l),o=t.isCreateRow&&a.createView?new a.createView({model:t.model}).render(d[0]):a.editView?new a.editView({model:t.model}).render(d[0]):t.defaultColumnRenderer.apply(t,d),r=(0,n.default)("<td />"),"object"===(void 0===o?"undefined":i(o))&&o.done?o.done(function(e){r.append(e)}):r.append(o),a.styleClass&&r.addClass(a.styleClass),r.appendTo(t.$el)}),this.$el.append(this.renderOperations(e.update,e.values)).addClass(this.classNames.ROW+" "+this.classNames.EDIT_ROW),this.trigger(this._event.RENDER,this.$el,e.values),this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]),this},renderOperations:function(e){var t=(0,n.default)('<td class="aui-restfultable-operations" />');return e?t.append((0,n.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:d.default.getText("aui.words.update")})).append((0,n.default)('<a class="aui-button aui-button-link" href="#" />').addClass(this.classNames.CANCEL).text(d.default.getText("aui.words.cancel")).attr({accesskey:this.cancelAccessKey})):t.append((0,n.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:d.default.getText("aui.words.add")})),t.add((0,n.default)('<td class="'+this.classNames.STATUS+'" />'))}}),e.exports=t.default},"5G0d":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=d(s("+x/D")),a=s("anNl"),o=s("QFBp"),r=d(s("qT0E")),l=d(s("HOn5"));function d(e){return e&&e.__esModule?e:{default:e}}var u=r.default.Model.extend({sync:function(e,t,s){var i=this,n=s.error;return s.error=function(e){i._serverErrorHandler(e,this),n&&n.apply(this,arguments)},r.default.sync.apply(r.default,arguments)},save:function(e,t){var s,i=this,a=(t=t||{}).error,o=t.success;t.error=function(e,t){var s=n.default.parseJSON(t.responseText||t.data);a&&a.call(i,i,s,t)},this.isNew()?r.default.Model.prototype.save.call(this,e,t):e&&((s=new(u.extend({url:this.url()}))({id:this.id})).save=r.default.Model.prototype.save,t.success=function(e,t){i.clear().set(e.toJSON()),o&&o.call(i,i,t)},s.save(e,t))},destroy:function(e){e=e||{};var t=this,s=this.url();return n.default.ajax({url:s,type:"DELETE",dataType:"json",data:e.data||{},contentType:"application/json",success:function(s){t.collection&&t.collection.remove(t),e.success&&e.success.call(t,s)},error:function(s){t._serverErrorHandler(s,this),e.error&&e.error.call(t,s)}}),this},changedAttributes:function(e){var t={},s=this.toJSON();if(n.default.each(e,function(e,a){s[e]?s[e]&&s[e]!==a&&("object"===(void 0===a?"undefined":i(a))&&(0,o.isEqual)(a,s[e])||(t[e]=a)):"string"==typeof a?""!==n.default.trim(a)&&(t[e]=a):n.default.isArray(a)?0!==a.length&&(t[e]=a):t[e]=a}),!(0,o.isEmpty)(t))return this.addExpand(t),t},addExpand:function(e){},_serverErrorHandler:function(e,t){var s;400!==e.status&&(s=n.default.parseJSON(e.responseText||e.data),(0,a.triggerEvtForInst)(l.default.SERVER_ERROR,this,[s,e,t]))},fetch:function(e){e=e||{},this.clear(),r.default.Model.prototype.fetch.call(this,e)}});t.default=u,e.exports=t.default},"6kG1":function(e,t,s){},G3cN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestfulTable=void 0;var i=s("JSE0");Object.defineProperty(t,"RestfulTable",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(i).default}}),s("jJ4L"),s("6kG1")},HOn5:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={REORDER_SUCCESS:"RestfulTable.reorderSuccess",ROW_ADDED:"RestfulTable.rowAdded",ROW_REMOVED:"RestfulTable.rowRemoved",EDIT_ROW:"RestfulTable.switchedToEditMode",SERVER_ERROR:"RestfulTable.serverError",CREATED:"created",UPDATED:"updated",FOCUS:"focus",BLUR:"blur",SUBMIT:"submit",SAVE:"save",MODAL:"modal",MODELESS:"modeless",CANCEL:"cancel",CONTENT_REFRESHED:"contentRefreshed",RENDER:"render",FINISHED_EDITING:"finishedEditing",VALIDATION_ERROR:"validationError",SUBMIT_STARTED:"submitStarted",SUBMIT_FINISHED:"submitFinished",INITIALIZED:"initialized",ROW_INITIALIZED:"rowInitialized",ROW_EDIT:"editRow"},e.exports=t.default},JSE0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(s("+x/D"));s("D3y7"),s("yIBB"),s("XPYc"),s("z+ct"),s("xTPO");var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}(s("JFi+")),a=_(s("qT0E")),o=_(s("vRZA")),r=_(s("fW/A")),l=_(s("i/Md")),d=_(s("t8cq")),u=_(s("oLrn")),c=_(s("47Al")),h=_(s("5G0d")),f=s("anNl"),p=_(s("HOn5")),m=_(s("KloK")),v=_(s("xqHC")),E=s("t6J+"),R=_(s("HH5i"));function _(e){return e&&e.__esModule?e:{default:e}}var b=a.default.View.extend({initialize:function(e){var t=this;if(t.options=i.default.extend(!0,t._getDefaultOptions(e),e),t.id=this.options.id,t._event=p.default,t.classNames=o.default,t.dataKeys=u.default,this.$table=(0,i.default)(e.el).addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui"),this.$table.wrapAll("<form class='aui' action='#' />"),this.$thead=(0,i.default)("<thead/>"),this.$theadRow=(0,i.default)("<tr />").appendTo(this.$thead),this.$tbody=(0,i.default)("<tbody/>"),!this.$table.length)throw new Error("RestfulTable: Init failed! The table you have specified ["+this.$table.selector+"] cannot be found.");if(!this.options.columns)throw new Error("RestfulTable: Init failed! You haven't provided any columns to render.");if(this.options.deleteConfirmationCallback&&!(this.options.deleteConfirmationCallback instanceof Function))throw new Error("RestfulTable: Init failed! deleteConfirmationCallback is not a function");this.showGlobalLoading(),this.options.columns.forEach(function(e){var s=i.default.isFunction(e.header)?e.header():e.header;void 0===s&&(n.warn("You have not specified [header] for column ["+e.id+"]. Using id for now..."),s=e.id),t.$theadRow.append("<th>"+s+"</th>")}),t.$theadRow.append("<th></th><th></th>"),this._models=this._createCollection(),this._rowClass=this.options.views.row,this.editRows=[],this.$table.closest("form").submit(function(e){t.focusedRow&&t.focusedRow.trigger(t._event.SAVE),e.preventDefault()}),this.options.allowReorder&&(this.$theadRow.prepend("<th />"),this.$tbody.sortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(e,s){var n=(0,i.default)("<div/>").attr("class",s.attr("class")).addClass(t.classNames.MOVEABLE);return s.children().each(function(){var e=(0,i.default)(this),t=parseInt(0+e.css("border-left-width"),10),s=parseInt(0+e.css("border-right-width"),10),a=e[0].clientWidth+t+s;n.append((0,i.default)("<div/>").html(e.html()).attr("class",e.attr("class")).width(a))}),n=(0,i.default)("<div class='aui-restfultable-readonly'/>").append(n),n.css({left:s.offset().left}),n.appendTo(document.body),n},start:function(e,s){var n=s.helper[0].clientHeight,a=s.placeholder.find("td");s.item.addClass(t.classNames.MOVEABLE).children().each(function(e){(0,i.default)(this).width(a.eq(e).width())});var o='<td colspan="'+t.getColumnCount()+'">&nbsp;</td>';s.placeholder.html(o).css({height:n,visibility:"visible"}),t.getRowFromElement(s.item[0]).trigger(t._event.MODAL)},stop:function(e,s){(0,i.default)(s.item[0]).is(":visible")&&(s.item.removeClass(t.classNames.MOVEABLE).children().attr("style",""),s.placeholder.removeClass(t.classNames.ROW),t.getRowFromElement(s.item[0]).trigger(t._event.MODELESS))},update:function(e,s){var i={row:t.getRowFromElement(s.item[0]),item:s.item,nextItem:s.item.next(),prevItem:s.item.prev()};t.move(i)},axis:"y",delay:0,containment:"document",cursor:"move",scroll:!0,zIndex:8e3}),this.$tbody.on("selectstart mousedown",function(e){return!(0,i.default)(e.target).is("."+t.classNames.DRAG_HANDLE)})),!1!==this.options.allowCreate&&(this._createRow=new this.options.views.editRow({columns:this.options.columns,isCreateRow:!0,model:this.options.model.extend({url:function(){return t.options.resources.self}}),cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector}),this._createRow.on(this._event.CREATED,function(e){void 0===t.options.addPosition&&"bottom"===t.options.createPosition||"bottom"===t.options.addPosition?t.addRow(e):t.addRow(e,0)}),this._createRow.on(this._event.VALIDATION_ERROR,function(){this.trigger(t._event.FOCUS)}),this._createRow.render({errors:{},values:{}}),this.$create=(0,i.default)('<tbody class="'+this.classNames.CREATE+'" />').append(this._createRow.el),this._applyFocusCoordinator(this._createRow),this._createRow.trigger(this._event.FOCUS)),this._models.on("remove",function(e){t.getRows().forEach(function(s){s.model===e&&(s.hasFocus()&&t._createRow&&t._createRow.trigger(t._event.FOCUS),t.removeRow(s))})}),this.fetchInitialResources()},fetchInitialResources:function(){var e=this;i.default.isFunction(this.options.resources.all)?this.options.resources.all(function(t){e.populate(t)}):i.default.get(this.options.resources.all,function(t){e.populate(t)})},move:function(e){var t=this,s=function(e){return e.length?{after:t.getRowFromElement(e).model.url()}:{position:"First"}};if(e.row){var n=t.options.reverseOrder?s(e.nextItem):s(e.prevItem);i.default.ajax({url:e.row.model.url()+"/move",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n),complete:function(){e.row.hideLoading()},success:function(e){(0,f.triggerEvtForInst)(t._event.REORDER_SUCCESS,t,[e])},error:function(e){var s=i.default.parseJSON(e.responseText||e.data);(0,f.triggerEvtForInst)(t._event.SERVER_ERROR,t,[s,e,this])}}),e.row.showLoading()}},_createCollection:function(){var e=this;return new(this.options.Collection.extend({sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");return this.tableRows=e.getRows(),this.models=this.sortBy(this.comparator,this),this.tableRows=void 0,t.silent||this.trigger("refresh",this,t),this},remove:function(){this.tableRows=e.getRows();for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return a.default.Collection.prototype.remove.apply(this,s),this.tableRows=void 0,this}}))([],{comparator:function(t){var s;return(this&&void 0!==this.tableRows?this.tableRows:e.getRows()).some(function(e,i){if(e.model.id===t.id)return s=i,!0}),s}})},populate:function(e){this.options.reverseOrder&&e.reverse(),this.hideGlobalLoading(),e&&e.length?(this._models.reset([],{silent:!0}),this.renderRows(e),this.isEmpty()&&this.showNoEntriesMsg()):this.showNoEntriesMsg(),this.$table.append(this.$thead),"bottom"===this.options.createPosition?this.$table.append(this.$tbody).append(this.$create):this.$table.append(this.$create).append(this.$tbody),this.$table.trigger(this._event.INITIALIZED,[this]),(0,f.triggerEvtForInst)(this._event.INITIALIZED,this,[this]),this.options.autoFocus&&this.$table.find(":input:text:first").focus()},showGlobalLoading:function(){return this.$loading||(this.$loading=(0,i.default)('<div class="aui-restfultable-init"><span class="aui-restfultable-loading">'+E.spinner+this.options.loadingMsg+"</span></div>")),this.$loading.is(":visible")||this.$loading.insertAfter(this.$table),this},hideGlobalLoading:function(){return this.$loading&&this.$loading.remove(),this},addRow:function(e,t){var s,i;if(!e.id)throw new Error("RestfulTable.addRow: to add a row values object must contain an id. Maybe you are not returning it from your restend point?Recieved:"+JSON.stringify(e));return i=new this.options.model(e),s=this._renderRow(i,t),this._models.add(i),this.removeNoEntriesMsg(),(0,f.triggerEvtForInst)(this._event.ROW_ADDED,this,[s,this]),this},removeRow:function(e){this._models.remove(e.model),e.remove(),this.isEmpty()&&this.showNoEntriesMsg(),(0,f.triggerEvtForInst)(this._event.ROW_REMOVED,this,[e,this])},isEmpty:function(){return 0===this._models.length},getModels:function(){return this._models},getTable:function(){return this.$table},getTableBody:function(){return this.$tbody},getCreateRow:function(){return this._createRow},getColumnCount:function(){var e=2;return this.allowReorder&&++e,this.options.columns.length+e},getRowFromElement:function(e){return(0,i.default)(e).data(this.dataKeys.ROW_VIEW)},showNoEntriesMsg:function(){return this.$noEntries&&this.$noEntries.remove(),this.$noEntries=(0,i.default)("<tr>").addClass(this.classNames.NO_ENTRIES).append((0,i.default)("<td>").attr("colspan",this.getColumnCount()).text(this.options.noEntriesMsg)).appendTo(this.$tbody),this},removeNoEntriesMsg:function(){return this.$noEntries&&this._models.length>0&&this.$noEntries.remove(),this},getRows:function(){var e=this,t=[];return this.$tbody.find("."+this.classNames.READ_ONLY).each(function(){var s=(0,i.default)(this).data(e.dataKeys.ROW_VIEW);s&&t.push(s)}),t},_renderRow:function(e,t){var s,i,n=this,a=this.$tbody.find("."+this.classNames.READ_ONLY);return i=new this._rowClass({model:e,columns:this.options.columns,allowEdit:this.options.allowEdit,allowDelete:this.options.allowDelete,allowReorder:this.options.allowReorder,deleteConfirmationCallback:this.options.deleteConfirmationCallback}),this.removeNoEntriesMsg(),i.on(this._event.ROW_EDIT,function(e){(0,f.triggerEvtForInst)(this._event.EDIT_ROW,{},[this,n]),n.edit(this,e)}),s=i.render().$el,-1!==t&&("number"==typeof t&&0!==a.length?s.insertBefore(a[t]):this.$tbody.append(s)),s.data(this.dataKeys.ROW_VIEW,i),i.on(this._event.MODAL,function(){n.$table.removeClass(n.classNames.ALLOW_HOVER),n.$tbody.sortable("disable"),n.getRows().forEach(function(e){n.isRowBeingEdited(e)||e.delegateEvents({})})}),i.on(this._event.MODELESS,function(){n.$table.addClass(n.classNames.ALLOW_HOVER),n.$tbody.sortable("enable"),n.getRows().forEach(function(e){n.isRowBeingEdited(e)||e.delegateEvents()})}),this._applyFocusCoordinator(i),this.trigger(this._event.ROW_INITIALIZED,i),i},isRowBeingEdited:function(e){var t=!1;return this.editRows.some(function(s){if(s.el===e.el)return t=!0,!0}),t},_applyFocusCoordinator:function(e){var t=this;return e.hasFocusBound||(e.hasFocusBound=!0,e.on(this._event.FOCUS,function(){t.focusedRow&&t.focusedRow!==e&&t.focusedRow.trigger(t._event.BLUR),t.focusedRow=e,e instanceof v.default&&t._createRow&&t._createRow.enable()})),this},_removeEditRow:function(e){var t=i.default.inArray(e,this.editRows);return this.editRows.splice(t,1),this},_shiftFocusAfterEdit:function(){return this.editRows.length>0?this.editRows[this.editRows.length-1].trigger(this._event.FOCUS):this._createRow&&this._createRow.trigger(this._event.FOCUS),this},_saveEditRowOnBlur:function(){return this.editRows.length<=1},dismissEditRows:function(){this.editRows.forEach(function(e){e.hasUpdates()||e.trigger(this._event.FINISHED_EDITING)},this)},edit:function(e,t){var s=this,i=new this.options.views.editRow({el:e.el,columns:this.options.columns,isUpdateMode:!0,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector,model:e.model,cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey}),n=e.model.toJSON();return n.update=!0,i.render({errors:{},update:!0,values:n}).on(s._event.UPDATED,function(t,i){s._removeEditRow(this),this.off(),e.render().delegateEvents(),e.trigger(s._event.UPDATED),!1!==i&&s._shiftFocusAfterEdit()}).on(s._event.VALIDATION_ERROR,function(){this.trigger(s._event.FOCUS)}).on(s._event.FINISHED_EDITING,function(){s._removeEditRow(this),e.render().delegateEvents(),this.off()}).on(s._event.CANCEL,function(){s._removeEditRow(this),this.off(),e.render().delegateEvents(),s._shiftFocusAfterEdit()}).on(s._event.BLUR,function(){s.dismissEditRows(),s._saveEditRowOnBlur()&&this.trigger(s._event.SAVE,!1)}),this._applyFocusCoordinator(i),i.trigger(s._event.FOCUS,t),s._createRow&&s._createRow.disable(),this.editRows.push(i),i},renderRows:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=this._models.comparator,i=[];this._models.comparator=void 0;var n=t.map(function(t){var s=new e.options.model(t);return i.push(e._renderRow(s,-1).el),s});return this._models.add(n,{silent:!0}),this._models.comparator=s,this.removeNoEntriesMsg(),this.$tbody.append(i),this},_getDefaultOptions:function(e){return{model:e.model||h.default,allowEdit:!0,views:{editRow:c.default,row:v.default},Collection:a.default.Collection.extend({url:e.resources.self,model:e.model||h.default}),allowReorder:!1,fieldFocusSelector:function(e){return":input[name="+e+"], #"+e},loadingMsg:e.loadingMsg||R.default.getText("aui.words.loading")}}});b.ClassNames=o.default,b.CustomCreateView=r.default,b.CustomEditView=l.default,b.CustomReadView=d.default,b.DataKeys=u.default,b.EditRow=c.default,b.EntryModel=h.default,b.Events=p.default,b.Row=v.default,(0,m.default)("RestfulTable",b),t.default=b,e.exports=t.default},anNl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerEvtForInst=t.triggerEvt=t.bindEvt=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(s("+x/D"));var n=document||{},a=(0,i.default)(n);function o(e,t){a.trigger(e,t)}t.bindEvt=function(e,t){a.bind(e,t)},t.triggerEvt=o,t.triggerEvtForInst=function(e,t,s){(0,i.default)(t).trigger(e,s),o(e,s),t.id&&o(t.id+"-"+e,s)}},"fW/A":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(s("qT0E"));t.default=i.default.View,e.exports=t.default},"i/Md":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(s("qT0E"));t.default=i.default.View,e.exports=t.default},lyon:function(e,t){jQuery.fn.serializeObject=function(){var e={};return this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')").each(function(){""!==this.name&&(null===this.value&&(this.value=""),e[this.name]=this.value.match(/^(tru|fals)e$/i)?"true"==this.value.toLowerCase():this.value)}),this.find("input:radio:checked").each(function(){e[this.name]=this.value}),this.find("select[multiple]").each(function(){var t=jQuery(this),s=t.val();t.data("aui-ss")?e[this.name]=s?s[0]:"":e[this.name]=null!==s?s:[]}),e}},oLrn:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ENABLED_SUBMIT:"enabledSubmit",ROW_VIEW:"RestfulTable_Row_View"},e.exports=t.default},"t6J+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spinner=void 0,t.appendStatusSpinner=function(e){0===e.find(a).length&&e.find("."+i.default.STATUS).append(n)},t.removeStatusSpinner=function(e){e.find("."+i.default.STATUS+" "+a).remove()},s("tYoR");var i=function(e){return e&&e.__esModule?e:{default:e}}(s("vRZA"));var n=t.spinner='<aui-spinner size="small"></aui-spinner>',a="aui-spinner"},t8cq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(s("qT0E"));t.default=i.default.View,e.exports=t.default},vRZA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NO_VALUE:"aui-restfultable-editable-no-value",NO_ENTRIES:"aui-restfultable-no-entires",RESTFUL_TABLE:"aui-restfultable",ROW:"aui-restfultable-row",READ_ONLY:"aui-restfultable-readonly",ACTIVE:"aui-restfultable-active",ALLOW_HOVER:"aui-restfultable-allowhover",FOCUSED:"aui-restfultable-focused",MOVEABLE:"aui-restfultable-movable",DISABLED:"aui-restfultable-disabled",SUBMIT:"aui-restfultable-submit",CANCEL:"aui-restfultable-cancel",EDIT_ROW:"aui-restfultable-editrow",CREATE:"aui-restfultable-create",DRAG_HANDLE:"aui-restfultable-draghandle",ORDER:"aui-restfultable-order",EDITABLE:"aui-restfultable-editable",ERROR:"error",DELETE:"aui-restfultable-delete",STATUS:"aui-restfultable-status"},e.exports=t.default},xqHC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(s("+x/D")),n=u(s("HH5i")),a=u(s("qT0E")),o=u(s("vRZA")),r=u(s("oLrn")),l=u(s("HOn5")),d=s("t6J+");function u(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.View.extend({tagName:"tr",events:{"click .aui-restfultable-editable":"edit"},initialize:function(e){var t=this;if(e=e||{},this._event=l.default,this.classNames=o.default,this.dataKeys=r.default,this.columns=e.columns,this.allowEdit=e.allowEdit,this.allowDelete=e.allowDelete,!this.events["click .aui-restfultable-editable"])throw new Error("It appears you have overridden the events property. To add events you will need to usea work around. https://github.com/documentcloud/backbone/issues/244");this.index=e.index||0,this.deleteConfirmationCallback=e.deleteConfirmationCallback,this.allowReorder=e.allowReorder,this.$el=(0,i.default)(this.el),this.on(this._event.CANCEL,function(){return t.disabled=!0}).on(this._event.FOCUS,function(e){return t.focus(e)}).on(this._event.BLUR,function(){return t.unfocus()}).on(this._event.MODAL,function(){return t.$el.addClass(t.classNames.ACTIVE)}).on(this._event.MODELESS,function(){return t.$el.removeClass(t.classNames.ACTIVE)})},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},defaultColumnRenderer:function(e){if(e.value)return document.createTextNode(e.value.toString())},sync:function(e){var t=this;return this.model.addExpand(e),this.showLoading(),this.model.save(e,{success:function(){t.hideLoading().render(),t.trigger(t._event.UPDATED)},error:function(){t.hideLoading()}}),this},refresh:function(e,t){var s=this;return this.showLoading(),this.model.fetch({success:function(){s.hideLoading().render(),e&&e.apply(this,arguments)},error:function(){s.hideLoading(),t&&t.apply(this,arguments)}}),this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(){return(0,i.default)(this.el).addClass(this.classNames.FOCUSED),this},unfocus:function(){return(0,i.default)(this.el).removeClass(this.classNames.FOCUSED),this},showLoading:function(){return(0,d.appendStatusSpinner)(this.$el),this},hideLoading:function(){return(0,d.removeStatusSpinner)(this.$el),this},edit:function(e){var t;return t=(0,i.default)(e.target).is("."+this.classNames.EDITABLE)?(0,i.default)(e.target).attr("data-field-name"):(0,i.default)(e.target).closest("."+this.classNames.EDITABLE).attr("data-field-name"),this.trigger(this._event.ROW_EDIT,t),this},renderOperations:function(){var e=this;if(!1!==this.allowDelete)return(0,i.default)("<a href='#' class='aui-button' />").addClass(this.classNames.DELETE).text(n.default.getText("aui.words.delete")).on("click",function(t){t.preventDefault(),e.destroy()})},destroy:function(){var e=this;if(this.deleteConfirmationCallback){var t=this.deleteConfirmationCallback(this.model.toJSON());if(!t||!t.then)throw new Error("deleteConfirmationCallback needs to return a Promise");t.then(function(){return e.model.destroy()},function(){})}else this.model.destroy()},render:function(){var e=this,t=this.model.toJSON(),s=(0,i.default)("<td class='aui-restfultable-operations' />").append(this.renderOperations({},t)),a=(0,i.default)('<td class="'+this.classNames.STATUS+'" />');return this.$el.removeClass(this.classNames.DISABLED+" "+this.classNames.FOCUSED+" "+this.classNames.EDIT_ROW).addClass(this.classNames.READ_ONLY).empty(),this.allowReorder&&(0,i.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(e.$el),this.$el.attr("data-id",this.model.id),i.default.each(this.columns,function(s,a){var o,r=(0,i.default)("<td />"),l=t[a.id],d=a.fieldName||a.id,u=[{name:d,value:l,allowEdit:a.allowEdit},t,e.model];if(l&&e.$el.attr("data-"+a.id,l),o=a.readView?new a.readView({model:e.model}).render(u[0]):e.defaultColumnRenderer.apply(e,u),!1!==e.allowEdit&&!1!==a.allowEdit){var c=(0,i.default)("<span />").addClass(e.classNames.EDITABLE).append('<span class="aui-icon aui-icon-small aui-iconfont-edit"></span>').append(o).attr("data-field-name",d);r=(0,i.default)("<td />").append(c).appendTo(e.$el),o&&i.default.trim(o)||(r.addClass(e.classNames.NO_VALUE),c.html((0,i.default)("<em />").text(this.emptyText||n.default.getText("aui.enter.value"))))}else r.append(o);a.styleClass&&r.addClass(a.styleClass),r.appendTo(e.$el)}),this.$el.append(s).append(a).addClass(this.classNames.ROW+" "+this.classNames.READ_ONLY),this.trigger(this._event.RENDER,this.$el,t),this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]),this}}),e.exports=t.default}},[["G3cN","runtime","aui.splitchunk.vendors--e54c7c7304","aui.splitchunk.vendors--b47d4b691d","aui.splitchunk.vendors--9c48cc20a9","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--51504ebf10","aui.splitchunk.vendors--9c8c8c1546","aui.splitchunk.vendors--351ae504d7","aui.splitchunk.vendors--20e849aab3","aui.splitchunk.vendors--06bc6ae5d7","aui.splitchunk.vendors--6ce18a1d80","aui.splitchunk.vendors--37ccb8d673","aui.splitchunk.172ffb6da7","aui.splitchunk.b0831cc7d0","aui.splitchunk.572a8bf5cd","aui.splitchunk.087aba7911","aui.splitchunk.fbd1a5ab27","aui.splitchunk.d49cf794d2","aui.splitchunk.54d3f16c20","aui.splitchunk.e54c7c7304","aui.splitchunk.336ae4f9e7","aui.splitchunk.1659111a3c","aui.splitchunk.fb15cffa72","aui.splitchunk.9c48cc20a9","aui.splitchunk.792781e698","aui.splitchunk.ed80e00f15","aui.splitchunk.382c9b559f","aui.splitchunk.ed86a19e01","aui.splitchunk.b2ecdd4179","aui.splitchunk.20e849aab3","aui.splitchunk.16f099a0da"]]]);