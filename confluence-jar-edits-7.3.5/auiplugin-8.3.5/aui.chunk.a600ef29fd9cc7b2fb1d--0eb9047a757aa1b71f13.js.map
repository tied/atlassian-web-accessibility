{"version":3,"sources":["webpack:///../src/js/aui/dialog.js","webpack:///../src/js/aui/forms.js"],"names":["__webpack_require__","logger","deprecate","_event","_blanket","_forms","createPopup","options","defaults","width","height","closeOnOutsideClick","keypressListener","e","keyCode","ESCAPE","popup","is","res","hide","_typeof","arguments","id","$","extend","_jquery2","default","addClass","attr","highestZIndex","each","currentPopup","this","css","applySize","_applySize","marginTop","Math","round","marginLeft","z-index","parseInt","append","enable","blanket","focusItem","selector","element","item","length","focus","changeSize","w","h","show","document","off","on","dim","current","find","focusSelector","focusDialog","trigger","call","unbind","undim","activeElement","has","blur","remove","disable","disabled","popupBlanket","Dialog","Button","page","label","onclick","className","buttonpanel","addButtonPanel","_onclick","dialog","html","button","itemMove","leftOrRight","target","dir","step","dtarget","splice","i","ii","curtab","itemRemove","prototype","moveUp","moveLeft","moveDown","moveRight","self","click","Panel","title","reference","panelButtonId","panel","body","padding","tab","menu","cur","removeClass","onblur","onselect","ontabchange","log","select","setPadding","isNaN","recalcSize","Page","Object","curpage","headerHeight","header","buttonHeight","dialogComponentsHeight","addPanel","addHeader","text","prepend","addButton","addLink","url","gotoPanel","getCurrentPanel","addSubmit","addCancel","addPage","nextPage","prevPage","gotoPage","num","getPanel","pageorpanelId","panelId","pageid","getPage","pageorpanel","get","query","coll","selectorExp","queryRE","RegExp","replace","all","name","justtitle","name2","title2","id2","justtitle2","pages","toLowerCase","push","j","concat","method","m","apply","updateHeight","maxDialogHeight","window","MIN_DIALOG_VERTICAL_BUFFER","display","outerHeight","min","undefined","isMaximised","getCurPanel","getCurPanelButton","exports","construct","alternativeName","alternatveName","_globalize2","el","b","$el","inlineHelp","$t","siblings","hasClass"],"mappings":"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","file":"aui.chunk.a600ef29fd9cc7b2fb1d--0eb9047a757aa1b71f13.js","sourcesContent":["import $ from './jquery';\nimport keyCode from './key-code';\nimport * as logger from './internal/log';\nimport * as deprecate from './internal/deprecation';\nimport { trigger } from './event';\nimport { dim, undim } from './blanket';\nimport { enable } from './forms';\nimport globalize from './internal/globalize';\n\n/* eslint complexity:off, eqeqeq:off, max-depth:off, no-unused-vars:off, strict:off */\n\n/**\n * Creates a generic popup that will be displayed in the center of the screen with a\n * grey blanket in the background.\n * Usage:\n * <pre>\n * createPopup({\n *     width: 800,\n *     height: 400,\n *     id: \"my-dialog\"\n * });\n * </pre>\n * @param options {object} [optional] Permitted options and defaults are as follows:\n * width (800), height (600), keypressListener (closes dialog on ESC).\n*/\nfunction createPopup (options) {\n    var defaults = {\n        width: 800,\n        height: 600,\n        closeOnOutsideClick: false,\n        keypressListener: function (e) {\n            if (e.keyCode === keyCode.ESCAPE && popup.is(':visible')) {\n                res.hide();\n            }\n        }\n    };\n    // for backwards-compatibility\n    if (typeof options !== 'object') {\n        options = {\n            width: arguments[0],\n            height: arguments[1],\n            id: arguments[2]\n        };\n        options = $.extend({}, options, arguments[3]);\n    }\n    options = $.extend({}, defaults, options);\n    var popup = $('<div></div>').addClass('aui-popup');\n\n    if (options.id) {\n        popup.attr('id', options.id);\n    }\n    //find the highest z-index on the page to ensure any new popup that is shown is shown on top\n    var highestZIndex = 3000;\n    $('.aui-dialog').each(function () {\n        var currentPopup = $(this);\n        highestZIndex = (currentPopup.css('z-index') > highestZIndex) ? currentPopup.css('z-index') : highestZIndex;\n    });\n\n    var applySize = (function _applySize (width, height) {\n        options.width = (width = (width || options.width));\n        options.height = (height = (height || options.height));\n\n        popup.css({\n            marginTop: -Math.round(height / 2) + 'px',\n            marginLeft: -Math.round(width / 2) + 'px',\n            width: width,\n            height: height,\n            'z-index': parseInt(highestZIndex,10) + 2  //+ 2 so that the shadow can be shown on +1 (underneath the popup but above everything else)\n        });\n        return _applySize;\n    }(options.width, options.height));\n\n    $('body').append(popup);\n\n    popup.hide();\n    enable(popup);\n\n    /**\n     * Popup object\n     * @class Popup\n     * @static\n    */\n\n    //blanket for reference further down\n    var blanket = $('.aui-blanket');\n    var focusItem = function (selector, element) {\n        var item = $(selector, element);\n        if (item.length) {\n            item.focus();\n            return true;\n        }\n        return false;\n    };\n    // we try and place focus, in the configured element or by looking for the first input\n    // in page body, then button panel and finally page menu.\n    var focusDialog = function (element) {\n        if ($('.dialog-page-body', element).find(':focus').length !== 0) {\n            return;\n        }\n        if (options.focusSelector) {\n            return focusItem(options.focusSelector, element);\n        }\n        var defaultFocusSelector = ':input:visible:enabled:first';\n        if (focusItem(defaultFocusSelector, $('.dialog-page-body', element))) { return; }\n        if (focusItem(defaultFocusSelector, $('.dialog-button-panel', element))) { return; }\n\n        focusItem(defaultFocusSelector, $('.dialog-page-menu', element));\n    };\n\n    var res = {\n\n        changeSize: function (w, h) {\n            if ((w && w != options.width) || (h && h != options.height)) {\n                applySize(w, h);\n            }\n            this.show();\n        },\n\n        /**\n         * Shows the popup\n         * @method show\n        */\n        show: function () {\n\n            var show = function () {\n                $(document)\n                    .off('keydown', options.keypressListener)\n                    .on('keydown', options.keypressListener);\n                dim();\n                blanket = $('.aui-blanket');\n                if (blanket.length !== 0 && options.closeOnOutsideClick){\n                    blanket.on('click', function () {\n                        if (popup.is(':visible')){\n                            res.hide();\n                        }\n                    });\n                }\n                popup.show();\n\n                createPopup.current = this;\n                focusDialog(popup);\n                $(document).trigger('showLayer', ['popup', this]);\n            };\n            show.call(this);\n            this.show = show;\n        },\n        /**\n         * Hides the popup.\n         * @method hide\n        */\n        hide: function () {\n            $(document).unbind('keydown', options.keypressListener);\n            blanket.unbind();\n            this.element.hide();\n\n            //only undim if no other dialogs are visible\n            if ($('.aui-dialog:visible').length === 0) {\n                undim();\n            }\n\n            // AUI-1059: remove focus from the active element when dialog is hidden\n            var activeElement = document.activeElement;\n            if (this.element.has(activeElement).length) {\n                activeElement.blur();\n            }\n\n            $(document).trigger('hideLayer', ['popup', this]);\n            createPopup.current = null;\n            this.enable();\n        },\n        /**\n         * jQuery object, representing popup DOM element\n         * @property element\n        */\n        element: popup,\n        /**\n         * Removes popup elements from the DOM\n         * @method remove\n        */\n        remove: function () {\n            popup.remove();\n            this.element = null;\n        },\n        /**\n         * disables the popup\n         * @method disable\n        */\n        disable: function () {\n            if (!this.disabled){\n                this.popupBlanket = $(\"<div class='dialog-blanket'> </div>\").css({\n                    height: popup.height(),\n                    width: popup.width()\n                });\n                popup.append(this.popupBlanket);\n                this.disabled = true;\n            }\n        },\n        /**\n         * enables the popup if it is disabled\n         * @method enable\n        */\n        enable: function () {\n            if (this.disabled) {\n                this.disabled = false;\n                this.popupBlanket.remove();\n                this.popupBlanket = null;\n            }\n        }\n    };\n\n    return res;\n}\n\n// Scoping function\nvar Dialog = (function () {\n    /**\n     * @class Button\n     * @constructor Button\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Button(page, label, onclick, className) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = $('<button></button>').html(label).addClass('button-panel-button');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick === 'function') {\n            this.item.on('click', this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    /**\n     * @class Link\n     * @constructor Link\n     * @param page {number} page id\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @private\n    */\n    function Link(page, label, onclick, className, url) {\n        if (!page.buttonpanel) {\n            page.addButtonPanel();\n        }\n\n        //if no url is given use # as default\n        if (!url){\n            url = '#';\n        }\n\n        this.page = page;\n        this.onclick = onclick;\n        this._onclick = function (e) {\n            return onclick.call(this, page.dialog, page, e) === true;\n        };\n        this.item = $('<a></a>').html(label).attr('href', url).addClass('button-panel-link');\n        if (className) {\n            this.item.addClass(className);\n        }\n        if (typeof onclick === 'function') {\n            this.item.click(this._onclick);\n        }\n        page.buttonpanel.append(this.item);\n        this.id = page.button.length;\n        page.button[this.id] = this;\n    }\n\n    function itemMove (leftOrRight, target) {\n        var dir = leftOrRight == 'left' ? -1 : 1;\n        return function (step) {\n            var dtarget = this.page[target];\n            if (this.id != ((dir == 1) ? dtarget.length - 1 : 0)) {\n                dir *= (step || 1);\n                dtarget[this.id + dir].item[(dir < 0 ? 'before' : 'after')](this.item);\n                dtarget.splice(this.id, 1);\n                dtarget.splice(this.id + dir, 0, this);\n                for (var i = 0, ii = dtarget.length; i < ii; i++) {\n                    if (target == 'panel' && this.page.curtab == dtarget[i].id) {\n                        this.page.curtab = i;\n                    }\n                    dtarget[i].id = i;\n                }\n            }\n            return this;\n        };\n    }\n    function itemRemove(target) {\n        return function () {\n            this.page[target].splice(this.id, 1);\n            for (var i = 0, ii = this.page[target].length; i < ii; i++) {\n                this.page[target][i].id = i;\n            }\n            this.item.remove();\n        };\n    }\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveUp = Button.prototype.moveLeft = itemMove('left', 'button');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} button\n    */\n    Button.prototype.moveDown = Button.prototype.moveRight = itemMove('right', 'button');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Button.prototype.remove = itemRemove('button');\n\n    /**\n     * Getter and setter for label\n     * @method label\n     * @param label {string} [optional] label of the button\n     * @return {string} label, if nothing is passed in\n     * @return {object} jQuery button object, if label is passed in\n    */\n    Button.prototype.html = function (label) {\n        return this.item.html(label);\n    };\n    /**\n     * Getter and setter of onclick event handler\n     * @method onclick\n     * @param onclick {function} [optional] new event handler, that is going to replace the old one\n     * @return {function} existing event handler if new one is undefined\n    */\n    Button.prototype.onclick = function (onclick) {\n        let self = this;\n        if (typeof onclick === 'undefined') {\n            return this.onclick;\n        } else {\n            this.item.unbind('click', this._onclick);\n            this._onclick = function (e) {\n                return onclick.call(this, self.page.dialog, self.page, e) === true;\n            };\n            if (typeof onclick === 'function') {\n                this.item.click(this._onclick);\n            }\n        }\n    };\n\n    var DEFAULT_PADDING = 20;\n\n    /**\n     * Class for panels\n     * @class Panel\n     * @constructor\n     * @param page {number} page id\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} the unique id that will be put on the button element for this panel.\n     * @private\n    */\n    var Panel = function (page, title, reference, className, panelButtonId) {\n        if (!(reference instanceof $)) {\n            reference = $(reference);\n        }\n\n        this.dialog = page.dialog;\n        this.page = page;\n        this.id = page.panel.length;\n        this.button = $('<button></button>').html(title).addClass('item-button');\n\n        if (panelButtonId) {\n            this.button[0].id = panelButtonId;\n        }\n\n        this.item = $('<li></li>').append(this.button).addClass('page-menu-item');\n        this.body = $('<div></div>').append(reference).addClass('dialog-panel-body').css('height', page.dialog.height + 'px');\n        this.padding = DEFAULT_PADDING;\n        if (className) {\n            this.body.addClass(className);\n        }\n        var i = page.panel.length;\n        var tab = this;\n        page.menu.append(this.item);\n        page.body.append(this.body);\n        page.panel[i] = this;\n        var onclick = function () {\n            var cur;\n            if (page.curtab + 1) {\n                cur = page.panel[page.curtab];\n                cur.body.hide();\n                cur.item.removeClass('selected');\n                (typeof cur.onblur === 'function') && cur.onblur();\n            }\n            page.curtab = tab.id;\n            tab.body.show();\n            tab.item.addClass('selected');\n            (typeof tab.onselect === 'function') && tab.onselect();\n            (typeof page.ontabchange === 'function') && page.ontabchange(tab, cur);\n        };\n        if (!this.button.click) {\n            logger.log('atlassian-dialog:Panel:constructor - this.button.click false');\n            this.button.onclick = onclick;\n        } else {\n            this.button.click(onclick);\n        }\n        onclick();\n        if (i == 0) {\n            page.menu.css('display', 'none'); // don't use jQuery hide()\n        } else {\n            page.menu.show();\n        }\n    };\n    /**\n     * Selects current panel\n     * @method select\n    */\n    Panel.prototype.select = function () {\n        this.button.click();\n    };\n    /**\n     * Moves item left in the hierarchy\n     * @method moveUp\n     * @method moveLeft\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveUp = Panel.prototype.moveLeft = itemMove('left', 'panel');\n    /**\n     * Moves item right in the hierarchy\n     * @method moveDown\n     * @method moveRight\n     * @param step {number} how many items to move, default is 1\n     * @return {object} panel\n    */\n    Panel.prototype.moveDown = Panel.prototype.moveRight = itemMove('right', 'panel');\n    /**\n     * Removes item\n     * @method remove\n    */\n    Panel.prototype.remove = itemRemove('panel');\n    /**\n     * Getter and setter of inner HTML of the panel\n     * @method html\n     * @param html {string} HTML source to set up\n     * @return {object} panel\n     * @return {string} current HTML source\n    */\n    Panel.prototype.html = function (html) {\n        if (html) {\n            this.body.html(html);\n            return this;\n        } else {\n            return this.body.html();\n        }\n    };\n    /**\n     * This method gives you ability to overwrite default padding value. Use it with caution.\n     * @method setPadding\n     * @param padding {number} padding in pixels\n     * @return {object} panel\n     * @see DEFAULT_PADDING\n    */\n    Panel.prototype.setPadding = function (padding) {\n        if (!isNaN(+padding)) {\n            this.body.css('padding', +padding);\n            this.padding = +padding;\n            this.page.recalcSize();\n        }\n        return this;\n    };\n\n    var HEADER_HEIGHT = 62;\n    var BUTTONS_HEIGHT = 52;\n    var MIN_DIALOG_VERTICAL_BUFFER = 50;\n\n    /**\n     * Class for pages\n     * @class Page\n     * @constructor\n     * @param dialog {object} dialog object\n     * @param className {string} [optional] HTML class name\n     * @private\n    */\n    var Page = function (dialog, className) {\n        this.dialog = dialog;\n        this.id = dialog.page.length;\n        this.element = $('<div></div>').addClass('dialog-components');\n        this.body = $('<div></div>').addClass('dialog-page-body');\n        this.menu = $('<ul></ul>').addClass('dialog-page-menu').css('height', dialog.height + 'px');\n        this.body.append(this.menu);\n        this.curtab;\n        this.panel = [];\n        this.button = [];\n        if (className) {\n            this.body.addClass(className);\n        }\n        dialog.popup.element.append(this.element.append(this.menu).append(this.body));\n        dialog.page[dialog.page.length] = this;\n    };\n\n    /**\n     * Size updater for contents of the page. For internal use\n     * @method recalcSize\n    */\n    Page.prototype.recalcSize = function () {\n        var headerHeight = this.header ? HEADER_HEIGHT : 0;\n        var buttonHeight = this.buttonpanel ? BUTTONS_HEIGHT : 0;\n        for (var i = this.panel.length; i--;) {\n            var dialogComponentsHeight = this.dialog.height - headerHeight - buttonHeight;\n            this.panel[i].body.css('height', dialogComponentsHeight);\n            this.menu.css('height', dialogComponentsHeight);\n        }\n    };\n\n    /**\n     * Adds a button panel to the bottom of dialog\n     * @method addButtonPanel\n     */\n    Page.prototype.addButtonPanel = function () {\n        this.buttonpanel = $('<div></div>').addClass('dialog-button-panel');\n        this.element.append(this.buttonpanel);\n    };\n\n    /**\n     * Method for adding new panel to the page\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {string} [optional] The unique id for the panel's button.\n     * @return {object} the page\n    */\n    Page.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        new Panel(this, title, reference, className, panelButtonId);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding header to the page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] CSS class name\n     * @return {object} the page\n    */\n    Page.prototype.addHeader = function (title, className) {\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header =  $('<h2></h2>').text(title || '').addClass('dialog-title');\n        className && this.header.addClass(className);\n        this.element.prepend(this.header);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new button to the page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addButton = function (label, onclick, className) {\n        new Button(this, label, onclick, className);\n        this.recalcSize();\n        return this;\n    };\n    /**\n     * Method for adding new link to the page\n     * @method addLink\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the page\n    */\n    Page.prototype.addLink = function (label, onclick, className, url) {\n        new Link(this, label, onclick, className, url);\n        this.recalcSize();\n        return this;\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Page.prototype.gotoPanel = function (panel) {\n        this.panel[panel.id || panel].select();\n    };\n    /**\n     * Returns current panel on the page\n     * @method getCurrentPanel\n     * @return panel {object} the panel\n    */\n    Page.prototype.getCurrentPanel = function () {\n        return this.panel[this.curtab];\n    };\n    /**\n     * Hides the page\n     * @method hide\n    */\n    Page.prototype.hide = function () {\n        this.element.hide();\n    };\n    /**\n     * Shows the page, if it was hidden\n     * @method show\n    */\n    Page.prototype.show = function () {\n        this.element.show();\n    };\n    /**\n     * Removes the page\n     * @method remove\n    */\n    Page.prototype.remove = function () {\n        this.element.remove();\n    };\n\n\n\n    /**\n     * Constructor for a Dialog. A Dialog is a popup which consists of Pages, where each Page can consist of Panels,\n     * Buttons and a Header. The dialog must be constructed in page order as it has a current page state. For example,\n     * calling addButton() will add a button to the 'current' page.\n     * <p>\n     * By default, a new Dialog will have one page. If there are multiple Panels on a Page, a\n     * menu is displayed on the left side of the dialog.\n     * </p>\n     * Usage:\n     * <pre>\n     * var dialog = new Dialog(860, 530);\n     * dialog.addHeader(\"Insert Macro\")\n     * .addPanel(\"All\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addPanel(\"Some\", \"&lt;p&gt;&lt;/p&gt;\")\n     * .addButton(\"Next\", function (dialog) {dialog.nextPage();})\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * dialog.addPage()\n     * .addButton(\"Cancel\", function (dialog) {dialog.hide();});\n     *\n     * somebutton.on('click', function () {dialog.show();});\n     * </pre>\n     * @class Dialog\n     * @constructor\n     * @param width {number} dialog width in pixels, or an object containing the Dialog parameters\n     * @param height {number} dialog height in pixels\n     * @param id {number} [optional] dialog id\n    */\n    function Dialog (width, height, id) {\n        var options = {};\n        if (!+width) {\n            options = Object(width);\n            width = options.width;\n            height = options.height;\n            id = options.id;\n        }\n        this.height = height || 480;\n        this.width = width || 640;\n        this.id = id;\n        options = $.extend({}, options, {\n            width: this.width,\n            height: this.height,\n            id: this.id\n        });\n        this.popup = createPopup(options);\n\n        this.popup.element.addClass('aui-dialog');\n        this.page = [];\n        this.curpage = 0;\n\n        new Page(this);\n    };\n\n\n    /**\n     * Method for adding header to the current page\n     * @method addHeader\n     * @param title {string} panel title\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addHeader = function (title, className) {\n        this.page[this.curpage].addHeader(title, className);\n        return this;\n    };\n    /**\n     * Method for adding new button to the current page\n     * @method addButton\n     * @param label {string} button label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButton = function (label, onclick, className) {\n        this.page[this.curpage].addButton(label, onclick, className);\n        return this;\n    };\n\n    /**\n     * Method for adding new link to the current page\n     * @method addButton\n     * @param label {string} link label\n     * @param onclick {function} [optional] click event handler\n     * @param className {string} [optional] class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addLink = function (label, onclick, className, url) {\n        this.page[this.curpage].addLink(label, onclick, className, url);\n        return this;\n    };\n\n    /**\n    * Method for adding a submit button to the current page\n    * @method addSubmit\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addSubmit = function (label, onclick) {\n        this.page[this.curpage].addButton(label, onclick, 'button-panel-submit-button');\n        return this;\n    };\n\n    /**\n    * Method for adding a cancel link to the current page\n    * @method addCancel\n    * @param label {string} link label\n    * @param onclick {function} [optional] click event handler\n    * @return {object} the dialog\n    */\n    Dialog.prototype.addCancel = function (label, onclick) {\n        this.page[this.curpage].addLink(label, onclick, 'button-panel-cancel-link');\n        return this;\n    };\n\n\n    /**\n     * Method for adding new button panel to the current page\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addButtonPanel = function () {\n        this.page[this.curpage].addButtonPanel();\n        return this;\n    };\n\n\n    /**\n     * Method for adding new panel to the current page.\n     * @method addPanel\n     * @param title {string} panel title\n     * @param reference {string} or {object} jQuery object or selector for the contents of the Panel\n     * @param className {string} [optional] HTML class name\n     * @param panelButtonId {String} [optional] The unique id for the panel's button.\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPanel = function (title, reference, className, panelButtonId) {\n        this.page[this.curpage].addPanel(title, reference, className, panelButtonId);\n        return this;\n    };\n    /**\n     * Adds a new page to the dialog and sets the new page as the current page\n     * @method addPage\n     * @param className {string} [optional] HTML class name\n     * @return {object} the dialog\n    */\n    Dialog.prototype.addPage = function (className) {\n        new Page(this, className);\n        this.page[this.curpage].hide();\n        this.curpage = this.page.length - 1;\n        return this;\n    };\n    /**\n     * Making next page in hierarchy visible and active\n     * @method nextPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.nextPage = function () {\n        this.page[this.curpage++].hide();\n        if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making previous page in hierarchy visible and active\n     * @method prevPage\n     * @return {object} the dialog\n    */\n    Dialog.prototype.prevPage = function () {\n        this.page[this.curpage--].hide();\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Making specified page visible and active\n     * @method gotoPage\n     * @param num {number} page id\n     * @return {object} the dialog\n    */\n    Dialog.prototype.gotoPage = function (num) {\n        this.page[this.curpage].hide();\n        this.curpage = num;\n        if (this.curpage < 0) {\n            this.curpage = this.page.length - 1;\n        } else if (this.curpage >= this.page.length) {\n            this.curpage = 0;\n        }\n        this.page[this.curpage].show();\n        return this;\n    };\n    /**\n     * Returns specified panel at the current page\n     * @method getPanel\n     * @param pageorpanelId {number} page id or panel id\n     * @param panelId {number} panel id\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getPanel = function (pageorpanelId, panelId) {\n        var pageid = (panelId == null) ? this.curpage : pageorpanelId;\n        if (panelId == null) {\n            panelId = pageorpanelId;\n        }\n        return this.page[pageid].panel[panelId];\n    };\n    /**\n     * Returns specified page\n     * @method getPage\n     * @param pageid {number} page id\n     * @return {object} the internal Page Object\n    */\n    Dialog.prototype.getPage = function (pageid) {\n        return this.page[pageid];\n    };\n    /**\n     * Returns current panel at the current page\n     * @method getCurrentPanel\n     * @return {object} the internal Panel object\n    */\n    Dialog.prototype.getCurrentPanel = function () {\n        return this.page[this.curpage].getCurrentPanel();\n    };\n\n    /**\n     * Selects corresponding panel\n     * @method gotoPanel\n     * @param pageorpanel {object} panel object or page object\n     * @param panel {object} panel object\n     * @param panel {number} id of the panel\n    */\n    Dialog.prototype.gotoPanel = function (pageorpanel, panel) {\n        if (panel != null) {\n            var pageid = pageorpanel.id || pageorpanel;\n            this.gotoPage(pageid);\n        }\n        this.page[this.curpage].gotoPanel(typeof panel === 'undefined' ? pageorpanel : panel);\n    };\n\n    /**\n     * Shows the dialog, if it is not visible\n     * @method show\n     * @return {object} the dialog\n    */\n    Dialog.prototype.show = function () {\n        this.popup.show();\n        trigger('show.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Hides the dialog, if it was visible\n     * @method hide\n     * @return {object} the dialog\n    */\n    Dialog.prototype.hide = function () {\n        this.popup.hide();\n        trigger('hide.dialog', {dialog: this});\n        return this;\n    };\n    /**\n     * Removes the dialog elements from the DOM\n     * @method remove\n    */\n    Dialog.prototype.remove = function () {\n        this.popup.hide();\n        this.popup.remove();\n        trigger('remove.dialog', {dialog: this});\n    };\n    /**\n     * Disables the dialog if enabled\n     * @method disable\n    */\n    Dialog.prototype.disable = function () {\n        this.popup.disable();\n        return this;\n    };\n    /**\n     * Enables the dialog if disabled\n     * @method disable\n    */\n    Dialog.prototype.enable = function () {\n        this.popup.enable();\n        return this;\n    };\n    /**\n     * Gets set of items depending on query\n     * @method get\n     * @param query {string} query to search for panels, pages, headers or buttons\n     * e.g.\n     *      '#Name' will find all dialog components with the given name such as panels and buttons, etc\n     *      'panel#Name' will find only panels with the given name\n     *      'panel#\"Foo bar\"' will find only panels with given name\n     *      'panel:3' will find the third panel\n     */\n    Dialog.prototype.get = function (query) {\n        var coll = [];\n        var dialog = this;\n        var nameExp = '#([^\"][^ ]*|\"[^\"]*\")';     // a name is a hash followed by either a bare word or quoted string\n        var indexExp = ':(\\\\d+)';                 // an index is a colon followed by some digits\n        var typeExp = 'page|panel|button|header'; // one of the allowed types\n        var selectorExp = '(?:' +                 // a selector is either ...\n            '(' + typeExp + ')(?:' + nameExp + '|' + indexExp + ')?' + // a type optionally followed by either #name or :index\n            '|' + nameExp +                       // or just a #name\n            ')';\n        var queryRE = new RegExp('(?:^|,)' +      // a comma or at the start of the line\n            '\\\\s*' + selectorExp +                // optional space and a selector\n            '(?:\\\\s+' + selectorExp + ')?' +      // optionally, followed by some space and a second selector\n            '\\\\s*(?=,|$)', 'ig');                 // followed by, but not including, a comma or the end of the string\n        (query + '').replace(queryRE, function (all, name, title, id, justtitle, name2, title2, id2, justtitle2) {\n            name = name && name.toLowerCase();\n            var pages = [];\n            if (name == 'page' && dialog.page[id]) {\n                pages.push(dialog.page[id]);\n                name = name2;\n                name = name && name.toLowerCase();\n                title = title2;\n                id = id2;\n                justtitle = justtitle2;\n            } else {\n                pages = dialog.page;\n            }\n            title = title && (title + '').replace(/\"/g, '');\n            title2 = title2 && (title2 + '').replace(/\"/g, '');\n            justtitle = justtitle && (justtitle + '').replace(/\"/g, '');\n            justtitle2 = justtitle2 && (justtitle2 + '').replace(/\"/g, '');\n            if (name || justtitle) {\n                for (var i = pages.length; i--;) {\n                    if (justtitle || (name == 'panel' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].panel.length; j--;) {\n                            if (pages[i].panel[j].button.html() == justtitle || pages[i].panel[j].button.html() == title || (name == 'panel' && !title && id == null)) {\n                                coll.push(pages[i].panel[j]);\n                            }\n                        }\n                    }\n                    if (justtitle || (name == 'button' && (title || (!title && id == null)))) {\n                        for (var j = pages[i].button.length; j--;) {\n                            if (pages[i].button[j].item.html() == justtitle || pages[i].button[j].item.html() == title || (name == 'button' && !title && id == null)) {\n                                coll.push(pages[i].button[j]);\n                            }\n                        }\n                    }\n                    if (pages[i][name] && pages[i][name][id]) {\n                        coll.push(pages[i][name][id]);\n                    }\n                    if (name == 'header' && pages[i].header) {\n                        coll.push(pages[i].header);\n                    }\n                }\n            } else {\n                coll = coll.concat(pages);\n            }\n        });\n        var res = {\n            length: coll.length\n        };\n        for (var i = coll.length; i--;) {\n            res[i] = coll[i];\n            for (var method in coll[i]) {\n                if (!(method in res)) {\n                    (function (m) {\n                        res[m] = function () {\n                            for (var j = this.length; j--;) {\n                                if (typeof this[j][m] === 'function') {\n                                    this[j][m].apply(this[j], arguments);\n                                }\n                            }\n                        };\n                    }(method));\n                }\n            }\n        }\n        return res;\n    };\n\n    /**\n     * Updates height of panels, to contain content without the need for scroll bars.\n     *\n     * @method updateHeight\n     */\n    Dialog.prototype.updateHeight = function () {\n        var height = 0;\n        var maxDialogHeight = $(window).height() - HEADER_HEIGHT - BUTTONS_HEIGHT - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n        for (var i = 0; this.getPanel(i); i++) {\n            if (this.getPanel(i).body.css({height: 'auto', display: 'block'}).outerHeight() > height) {\n                height = Math.min(maxDialogHeight, this.getPanel(i).body.outerHeight());\n            }\n            if (i !== this.page[this.curpage].curtab) {\n                this.getPanel(i).body.css({display: 'none'});\n            }\n        }\n        for (i = 0; this.getPanel(i); i++) {\n            this.getPanel(i).body.css({height: height || this.height});\n        }\n        this.page[0].menu.height(height);\n        this.height = height + HEADER_HEIGHT + BUTTONS_HEIGHT + 1;\n        this.popup.changeSize(undefined, this.height);\n    };\n\n    /**\n     * Returns whether the dialog has been resized to it's maximum height (has been capped by the viewport height and vertical buffer).\n     *\n     * @method isMaximised\n     */\n    Dialog.prototype.isMaximised = function () {\n        return this.popup.element.outerHeight() >= $(window).height() - (MIN_DIALOG_VERTICAL_BUFFER * 2);\n    };\n\n    /**\n     * Returns the current panel.\n     * @deprecated Since 3.0.1 Use getCurrentPanel() instead.\n     */\n    Dialog.prototype.getCurPanel = function () {\n        return this.getPanel(this.page[this.curpage].curtab);\n    };\n\n    /**\n     * Returns the current button panel.\n     * @deprecated Since 3.0.1 Use get() instead.\n     */\n    Dialog.prototype.getCurPanelButton = function () {\n        return this.getCurPanel().button;\n    };\n\n    return Dialog;\n\n}());\n\nDialog = deprecate.construct(Dialog, 'Dialog constructor', {\n    alternativeName: 'Dialog2'\n});\n\ncreatePopup = deprecate.construct(createPopup, 'Dialog popup constructor', {\n    alternatveName: 'Dialog2'\n});\n\nglobalize('Dialog', Dialog);\nglobalize('popup', createPopup);\n\nexport {\n    Dialog,\n    createPopup as popup\n};\n","import $ from './jquery';\nimport globalize from './internal/globalize';\n\n/**\n * Enables the specified form element.\n *\n * @param {Element} el The element to enable.\n * @param {Boolean} b The flag setting enabled / disabled.\n *\n * @returns {jQuery}\n */\nfunction enable (el, b) {\n    var $el = $(el);\n\n    if (typeof b === 'undefined') {\n        b = true;\n    }\n\n    return $el.each(function () {\n        this.disabled = !b;\n    });\n}\n\n\n/**\n * Forms: Inline Help - toggles visibility of inline help content.\n *\n * @method inlineHelp\n * @namespace AJS\n * @for AJS\n */\nfunction inlineHelp () {\n    $(document).on('click', '.icon-inline-help', function () {\n        var $t = $(this).siblings('.field-help');\n        if ($t.hasClass('hidden')){\n            $t.removeClass('hidden');\n        } else {\n            $t.addClass('hidden');\n        }\n    });\n}\n\nglobalize('enable', enable);\nglobalize('inlineHelp', inlineHelp);\n\nexport {\n    enable,\n    inlineHelp\n};\n"],"sourceRoot":""}