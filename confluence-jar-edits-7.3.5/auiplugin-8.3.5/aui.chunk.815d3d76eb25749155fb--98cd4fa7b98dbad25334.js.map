{"version":3,"sources":["webpack:///../src/js/aui/clone.js","webpack:///../src/js/aui/sidebar.js","webpack:///../src/js/aui/internal/mediaQuery.js","webpack:///../src/js/aui/internal/has-touch.js","webpack:///../src/js/aui/internal/is-input.js","webpack:///../src/js/aui/internal/deduplicateIDs.js","webpack:///./aui.component.sidebar.js"],"names":["__webpack_require__","clone","selector","_jquery2","default","removeAttr","deprecate","sidebarOffset","sidebar","offset","top","Sidebar","this","$el","length","$body","$wrapper","children","addClass","_previousScrollTop","_previousViewportHeight","_previousViewportWidth","_previousOffsetTop","submenus","SubmenuManager","on","collapsedTriggersSelector","e","$trigger","target","constructSubmenu","lazilyInitializeSubmenus","hasTouch","_mediaQuery2","pendingReflow","onScrollResizeReflow","requestAnimationFrame","reflow","window","isAnimated","trigger","$","Event","EVENT_PREFIX","isCollapsed","preventDefault","toggle","isViewportNarrow","collapse","toggleShortcutHandler","which","keyCode","LEFT_SQUARE_BRACKET","shiftKey","ctrlKey","metaKey","_isInput2","isNormalSquareBracket","isNormalTab","TAB","altKey","document","_remove","_removeAllTooltips","inlineDialogSelector","remove","off","expand","hasSubmenu","showTipsy","hideTipsy","toggleSelector","data","i18n","getText","triggerEl","submenuInlineDialog","getSubmenuInlineDialog","$submenuInlineDialog","open","$inlineDialog","attr","find","first","focus","setTimeout","focusFirstItemOfInlineDialog","isShiftTab","item","$submenuDialog","isFirstSubmenuItem","last","isLastSubmenuItem","hideAllSubmenus","initializeHandlers","each","constructAllSubmenus","namespaceEvents","events","map","split","event","join","getAllSubmenuDialogs","querySelectorAll","prototype","inlineDialog","getSubmenu","is","next","inlineDialogId","getAttribute","getElementById","allSubmenuDialogs","Array","forEach","call","inlineDialog2","createElement","uniqueId","_uniqueId2","skate","init","setAttribute","inlineDialogClass","body","appendChild","addEventListener","tagName","didOtherLayerOpened","classList","contains","didNestedInlineDialogOpened","customEvent","isDefaultPrevented","innerHTML","SUBMENU_INLINE_DIALOG_CONTENTS_HTML","title","text","$container","element","$clone","_clone2","_deduplicateIDs2","uid","hasClass","removeClass","cloneExpander","appendTo","inlineDialogShowHandler","inlineDialogHideHandler","addHandlersToSubmenuInlineDialog","arguments","args","slice","namespacedEvents","apply","concat","setHeight","scrollTop","viewportHeight","headerHeight","visibleHeaderHeight","Math","max","height","setTopPosition","undefined","pageYOffset","toggleClass","setPosition","fn","removeInVersion","sinceVersion","alternativeName","setLeftPosition","scrollLeft","pageXOffset","css","left","setCollapsedState","viewportWidth","transition","collapsed","expanded","narrow","noop","wide","s","_expand","_collapse","collapseState","oldSize","newSize","isResponsive","startEvent","submenuTriggersSelector","tooltipSelector","responsiveReflow","isInitialPageLoad","offsetHeight","documentElement","clientHeight","innerWidth","scrollHeight","offsetTop","isTouch","isTrackpadBounce","_previousScrollLeft","isFlyOut","submenu","sidebarSubmenuDeprecationLogger","submenuHeadingHeight","isShowing","isSubmenuVisible","show","showSubmenu","hide","moveSubmenuToInlineDialog","restoreSubmenu","getVisibleSubmenus","filter","tipsyOpts","gravity","className","$item","tooltip","$tip","opacity","durationStr","timeoutMs","indexOf","parseInt","substring","_widget2","getMessageLogger","_globalize2","mq","matchMedia","matches","style","type","id","innerText","head","testMediaQuery","getComputedStyle","width","parentNode","removeChild","DocumentTouch","el","isContentEditable","uidFunction","wrapper","append","i","uuid","replaceAttributeForID","setCorrespondingTriggersID","value","attribute","oldValue"],"mappings":"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","file":"aui.chunk.815d3d76eb25749155fb--98cd4fa7b98dbad25334.js","sourcesContent":["import $ from './jquery';\nimport globalize from './internal/globalize';\n\n/**\n * Clones the element specified by the selector and removes the id attribute.\n *\n * @param {String} selector A jQuery selector\n */\nfunction clone (selector) {\n    return $(selector).clone().removeAttr('id');\n}\n\nglobalize('clone', clone);\n\nexport default clone;\n","import $ from './jquery';\nimport './tooltip';\nimport './navigation';\nimport i18n from './i18n';\nimport clone from './clone';\nimport * as deprecate from './internal/deprecation';\nimport globalize from './internal/globalize';\nimport hasTouch from './internal/has-touch';\nimport isInput from './internal/is-input';\nimport keyCode from './key-code';\nimport mediaQuery from './internal/mediaQuery';\nimport skate from './internal/skate';\nimport uid from './unique-id';\nimport widget from './internal/widget';\nimport deduplicateIDs from './internal/deduplicateIDs';\n\n\nfunction sidebarOffset(sidebar) {\n    return sidebar.offset().top;\n}\n\nfunction Sidebar(selector) {\n    this.$el = $(selector);\n    if (!this.$el.length) {\n        return;\n    }\n    this.$body = $('body');\n    this.$wrapper = this.$el.children('.aui-sidebar-wrapper');\n\n    // Sidebar users should add class=\"aui-page-sidebar\" to the\n    // <body> in the rendered markup (to prevent any potential flicker),\n    // so we add it just in case they forgot.\n    this.$body.addClass('aui-page-sidebar');\n\n    this._previousScrollTop = null;\n    this._previousViewportHeight = null;\n    this._previousViewportWidth = null;\n    this._previousOffsetTop = null;\n\n    this.submenus = new SubmenuManager();\n\n    initializeHandlers(this);\n    constructAllSubmenus(this);\n}\n\nvar FORCE_COLLAPSE_WIDTH = 1240;\nvar EVENT_PREFIX = '_aui-internal-sidebar-';\n\nfunction namespaceEvents (events) {\n    return $.map(events.split(' '), function (event) {\n        return EVENT_PREFIX + event;\n    }).join(' ');\n}\n\nSidebar.prototype.on = function () {\n    var events = arguments[0];\n    var args = Array.prototype.slice.call(arguments, 1);\n    var namespacedEvents = namespaceEvents(events);\n    this.$el.on.apply(this.$el, [namespacedEvents].concat(args));\n    return this;\n};\n\nSidebar.prototype.off = function () {\n    var events = arguments[0];\n    var args = Array.prototype.slice.call(arguments, 1);\n    var namespacedEvents = namespaceEvents(events);\n    this.$el.off.apply(this.$el, [namespacedEvents].concat(args));\n    return this;\n};\n\nSidebar.prototype.setHeight = function (scrollTop, viewportHeight, headerHeight) {\n    var visibleHeaderHeight = Math.max(0, headerHeight - scrollTop);\n    this.$wrapper.height(viewportHeight - visibleHeaderHeight);\n    return this;\n};\n\nSidebar.prototype.setTopPosition = function (scrollTop = window.pageYOffset) {\n    this.$wrapper.toggleClass('aui-is-docked', scrollTop > sidebarOffset(this.$el));\n    return this;\n};\n\nSidebar.prototype.setPosition = deprecate.fn(Sidebar.prototype.setTopPosition, 'Sidebar.setPosition', {\n    removeInVersion: '9.0.0',\n    sinceVersion: '7.6.1',\n    alternativeName: 'Sidebar.setTopPosition',\n});\n\nSidebar.prototype.setLeftPosition = function (scrollLeft = window.pageXOffset) {\n    if (this.$wrapper.hasClass('aui-is-docked')) {\n        this.$wrapper.css({ left: -scrollLeft });\n    }\n    return this;\n};\n\nSidebar.prototype.setCollapsedState = function (viewportWidth) {\n    // Reflow behaviour is implemented as a state machine (hence all\n    // state transitions are enumerated). The rest of the state machine,\n    // e.g., entering the expanded narrow (fly-out) state, is implemented\n    // by the toggle() method.\n    var transition = {collapsed: {}, expanded: {}};\n    transition.collapsed.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s._expand(viewportWidth, true);\n        }\n    };\n    transition.collapsed.wide = {\n        narrow: $.noop,  // Becomes collapsed narrow (no visual change).\n        wide: $.noop\n    };\n    transition.expanded.narrow = {\n        narrow: $.noop,\n        wide: function (s) {\n            s.$body.removeClass('aui-sidebar-collapsed');\n            s.$el.removeClass('aui-sidebar-fly-out');\n        }\n    };\n    transition.expanded.wide = {\n        narrow: function (s) {\n            s._collapse(true);\n        },\n        wide: $.noop\n    };\n\n    var collapseState = this.isCollapsed() ? 'collapsed' : 'expanded';\n    var oldSize = this.isViewportNarrow(this._previousViewportWidth) ? 'narrow' : 'wide';\n    var newSize = this.isViewportNarrow(viewportWidth) ? 'narrow' : 'wide';\n    transition[collapseState][oldSize][newSize](this);\n    return this;\n};\n\nSidebar.prototype._collapse = function (isResponsive) {\n    if (this.isCollapsed()) {\n        return this;\n    }\n\n    var startEvent = $.Event(EVENT_PREFIX + 'collapse-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    this.$body.addClass('aui-sidebar-collapsed');\n    this.$el.attr('aria-expanded', 'false');\n    this.$el.removeClass('aui-sidebar-fly-out');\n    this.$el.find(this.submenuTriggersSelector).attr('tabindex', 0);\n    $(this.inlineDialogSelector).attr('responds-to', 'hover');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'collapse-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.collapse = function () {\n    return this._collapse(false);\n};\n\nSidebar.prototype._expand = function (viewportWidth, isResponsive) {\n    var startEvent = $.Event(EVENT_PREFIX + 'expand-start', {isResponsive: isResponsive});\n    this.$el.trigger(startEvent);\n    if (startEvent.isDefaultPrevented()) {\n        return this;\n    }\n\n    var isViewportNarrow = this.isViewportNarrow(viewportWidth);\n    this.$el.attr('aria-expanded', 'true');\n    this.$body.toggleClass('aui-sidebar-collapsed', isViewportNarrow);\n    this.$el.toggleClass('aui-sidebar-fly-out', isViewportNarrow);\n    this.$el.find(this.submenuTriggersSelector).removeAttr('tabindex');\n    $(this.inlineDialogSelector).removeAttr('responds-to');\n\n    if (!this.isAnimated()) {\n        this.$el.trigger($.Event(EVENT_PREFIX + 'expand-end', {isResponsive: isResponsive}));\n    }\n    return this;\n};\n\nSidebar.prototype.expand = function () {\n    if (this.isCollapsed()) {\n        this._expand(this._previousViewportWidth, false);\n    }\n    return this;\n};\n\nSidebar.prototype.isAnimated = function () {\n    return this.$el.hasClass('aui-is-animated');\n};\n\nSidebar.prototype.isCollapsed = function () {\n    return this.$el.attr('aria-expanded') === 'false';\n};\n\nSidebar.prototype.isViewportNarrow = function (viewportWidth) {\n    viewportWidth = viewportWidth === undefined ? this._previousViewportWidth : viewportWidth;\n    return viewportWidth < FORCE_COLLAPSE_WIDTH;\n};\n\nSidebar.prototype._removeAllTooltips = function () {\n    // tooltips are orphaned when sidebar is expanded, so if there are any visible on the page we remove them all.\n    // Can't scope it to the Sidebar (this) because the tooltip div is a direct child of <body>\n    $(this.tooltipSelector).remove();\n};\n\nSidebar.prototype.responsiveReflow = function responsiveReflow(isInitialPageLoad, viewportWidth) {\n    if (isInitialPageLoad) {\n        if (!this.isCollapsed() && this.isViewportNarrow(viewportWidth)) {\n            var isAnimated = this.isAnimated();\n            if (isAnimated) {\n                this.$el.removeClass('aui-is-animated');\n            }\n            // This will trigger the \"collapse\" event before non-sidebar\n            // JS code has a chance to bind listeners; they'll need to\n            // check isCollapsed() if they care about the value at that\n            // time.\n            this.collapse();\n            if (isAnimated) {\n                // We must trigger a CSS reflow (by accessing\n                // offsetHeight) otherwise the transition still runs.\n                // eslint-disable-next-line\n                this.$el[0].offsetHeight;\n                this.$el.addClass('aui-is-animated');\n            }\n        }\n    } else if (viewportWidth !== this._previousViewportWidth) {\n        this.setCollapsedState(viewportWidth);\n    }\n};\n\nSidebar.prototype.reflow = function reflow(\n    scrollTop = window.pageYOffset,\n    viewportHeight = document.documentElement.clientHeight,\n    viewportWidth = window.innerWidth,\n    scrollHeight = document.documentElement.scrollHeight,\n    scrollLeft = window.pageXOffset) {\n\n    // Header height needs to be checked because in Stash it changes when the CSS \"transform: translate3d\" is changed.\n    // If you called reflow() after this change then nothing happened because the scrollTop and viewportHeight hadn't changed.\n    var offsetTop = sidebarOffset(this.$el);\n    var isInitialPageLoad = this._previousViewportWidth === null;\n\n    if (!(scrollTop === this._previousScrollTop && viewportHeight === this._previousViewportHeight && offsetTop === this._previousOffsetTop)) {\n        if (this.isCollapsed() && !isInitialPageLoad && scrollTop !== this._previousScrollTop) {\n            //hide tooltips on scroll\n            this._removeAllTooltips();\n        }\n\n        var isTouch = this.$body.hasClass('aui-page-sidebar-touch');\n        var isTrackpadBounce = scrollTop !== this._previousScrollTop && (scrollTop < 0 || scrollTop + viewportHeight > scrollHeight);\n        if (!isTouch && (isInitialPageLoad || !isTrackpadBounce)) {\n            this.setHeight(scrollTop, viewportHeight, offsetTop);\n            this.setTopPosition(scrollTop);\n        }\n    }\n\n    if (scrollLeft !== this._previousScrollLeft) {\n        this.setLeftPosition(scrollLeft);\n    }\n\n    var isResponsive = this.$el.attr('data-aui-responsive') !== 'false';\n    if (isResponsive) {\n        this.responsiveReflow(isInitialPageLoad, viewportWidth);\n    } else {\n        var isFlyOut = !this.isCollapsed() && this.isViewportNarrow(viewportWidth);\n        this.$el.toggleClass('aui-sidebar-fly-out', isFlyOut);\n    }\n\n    this._previousScrollTop = scrollTop;\n    this._previousViewportHeight = viewportHeight;\n    this._previousViewportWidth = viewportWidth;\n    this._previousOffsetTop = offsetTop;\n    this._previousScrollLeft = scrollLeft;\n    return this;\n};\n\nSidebar.prototype.toggle = function () {\n    if (this.isCollapsed()) {\n        this.expand();\n        this._removeAllTooltips();\n    } else {\n        this.collapse();\n    }\n    return this;\n};\n\n/**\n * Returns a jQuery selector string for the trigger elements when the\n * sidebar is in a collapsed state, useful for delegated event binding.\n *\n * When using this selector in event handlers, the element (\"this\") will\n * either be an <a> (when the trigger was a tier-one menu item) or an\n * element with class \"aui-sidebar-group\" (for non-tier-one items).\n *\n * For delegated event binding you should bind to $el and check the value\n * of isCollapsed(), e.g.,\n *\n *     sidebar.$el.on('click', sidebar.collapsedTriggersSelector, function (e) {\n     *         if (!sidebar.isCollapsed()) {\n     *             return;\n     *         }\n     *     });\n *\n * @returns string\n */\nSidebar.prototype.submenuTriggersSelector = '.aui-sidebar-group:not(.aui-sidebar-group-tier-one)';\n\nSidebar.prototype.collapsedTriggersSelector = [\n    Sidebar.prototype.submenuTriggersSelector,\n    '.aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a',\n    '.aui-sidebar-footer > .aui-sidebar-settings-button'\n].join(', ');\n\nSidebar.prototype.toggleSelector = '.aui-sidebar-footer > .aui-sidebar-toggle';\n\nSidebar.prototype.tooltipSelector = '.aui-sidebar-section-tooltip';\n\nSidebar.prototype.inlineDialogClass = 'aui-sidebar-submenu-dialog';\nSidebar.prototype.inlineDialogSelector = '.' + Sidebar.prototype.inlineDialogClass;\n\nfunction getAllSubmenuDialogs() {\n    return document.querySelectorAll(Sidebar.prototype.inlineDialogSelector);\n}\n\nfunction SubmenuManager () {\n    this.inlineDialog = null;\n}\n\nSubmenuManager.prototype.submenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return getSubmenu($trigger);\n};\n\nSubmenuManager.prototype.hasSubmenu = function ($trigger) {\n    sidebarSubmenuDeprecationLogger();\n    return hasSubmenu($trigger);\n};\n\nSubmenuManager.prototype.submenuHeadingHeight = function () {\n    sidebarSubmenuDeprecationLogger();\n    return 34;\n};\n\nSubmenuManager.prototype.isShowing = function () {\n    sidebarSubmenuDeprecationLogger();\n    return Sidebar.prototype.isSubmenuVisible();\n};\n\nSubmenuManager.prototype.show = function (e, trigger) {\n    sidebarSubmenuDeprecationLogger();\n    showSubmenu(trigger);\n};\n\nSubmenuManager.prototype.hide = function () {\n    sidebarSubmenuDeprecationLogger();\n    hideAllSubmenus();\n};\n\nSubmenuManager.prototype.inlineDialogShowHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.inlineDialogHideHandler = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.moveSubmenuToInlineDialog = function () {\n    sidebarSubmenuDeprecationLogger();\n};\nSubmenuManager.prototype.restoreSubmenu = function () {\n    sidebarSubmenuDeprecationLogger();\n};\n\nSidebar.prototype.getVisibleSubmenus = function () {\n    return Array.prototype.filter.call(getAllSubmenuDialogs(), function (inlineDialog2) {\n        return inlineDialog2.open;\n    });\n};\n\nSidebar.prototype.isSubmenuVisible = function () {\n    return this.getVisibleSubmenus().length > 0;\n};\n\nfunction getSubmenu($trigger) {\n    return $trigger.is('a') ? $trigger.next('.aui-nav') : $trigger.children('.aui-nav, hr');\n}\n\nfunction getSubmenuInlineDialog(trigger) {\n    var inlineDialogId = trigger.getAttribute('aria-controls');\n    return document.getElementById(inlineDialogId);\n}\n\nfunction hasSubmenu($trigger) {\n    return getSubmenu($trigger).length !== 0;\n}\n\nfunction hideAllSubmenus() {\n    var allSubmenuDialogs = getAllSubmenuDialogs();\n    Array.prototype.forEach.call(allSubmenuDialogs, function (inlineDialog2) {\n        inlineDialog2.open = false;\n    });\n}\n\nfunction showSubmenu(trigger) {\n    getSubmenuInlineDialog(trigger).open = true;\n}\n\nfunction constructSubmenu(sidebar, $trigger) {\n    if ($trigger.data('_aui-sidebar-submenu-constructed')) {\n        return;\n    } else {\n        $trigger.data('_aui-sidebar-submenu-constructed', true)\n    }\n\n    if (!hasSubmenu($trigger)) {\n        return;\n    }\n\n    var submenuInlineDialog = document.createElement('aui-inline-dialog');\n\n    var uniqueId = uid('sidebar-submenu');\n\n    $trigger.attr('aria-controls', uniqueId);\n    $trigger.attr('data-aui-trigger', '');\n    skate.init($trigger); //Trigger doesn't listen to attribute modification\n\n    submenuInlineDialog.setAttribute('id', uniqueId);\n    submenuInlineDialog.setAttribute('alignment', 'right top');\n    submenuInlineDialog.setAttribute('aria-hidden', 'true');\n    submenuInlineDialog.setAttribute('contained-by', 'viewport');\n    if (sidebar.isCollapsed()) {\n        submenuInlineDialog.setAttribute('responds-to', 'hover');\n    }\n\n    $(submenuInlineDialog).addClass(Sidebar.prototype.inlineDialogClass);\n\n    document.body.appendChild(submenuInlineDialog);\n    skate.init(submenuInlineDialog); //Needed so that sidebar.submenus.isShowing() will work on page load\n\n    addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog);\n\n    return submenuInlineDialog;\n}\n\nfunction didOtherLayerOpened(e) {\n    return e.target.tagName !== 'AUI-INLINE-DIALOG';\n}\n\nfunction didNestedInlineDialogOpened(e) {\n    return !e.target.classList.contains('aui-sidebar-submenu-dialog');\n}\n\nfunction addHandlersToSubmenuInlineDialog(sidebar, $trigger, submenuInlineDialog) {\n    submenuInlineDialog.addEventListener('aui-layer-show', function (e) {\n        if (!sidebar.isCollapsed()) {\n            e.preventDefault();\n            return;\n        }\n\n        // we only care if sidebars inline dialog is opening\n        if (didOtherLayerOpened(e) || didNestedInlineDialogOpened(e)) {\n            return;\n        }\n\n        /**\n         * trigger an event on inline dialog trigger and pass a reference to the inline dialog.\n         * this let's one perform actions and modify content before it is displayed, for example lazy load submenu content\n         */\n        var customEvent = $.Event('aui-sidebar-submenu-before-show');\n        $trigger.trigger(customEvent, submenuInlineDialog);\n        if (customEvent.isDefaultPrevented()) {\n            e.preventDefault();\n            return;\n        }\n        inlineDialogShowHandler($trigger, submenuInlineDialog);\n    });\n\n    submenuInlineDialog.addEventListener('aui-layer-hide', function () {\n        inlineDialogHideHandler($trigger);\n    });\n}\n\nfunction inlineDialogShowHandler($trigger, submenuInlineDialog) {\n    $trigger.addClass('active');\n    submenuInlineDialog.innerHTML = SUBMENU_INLINE_DIALOG_CONTENTS_HTML;\n    var title = $trigger.is('a') ? $trigger.text() : $trigger.children('.aui-nav-heading').text();\n\n    var $container = $(submenuInlineDialog).find('.aui-navgroup-inner');\n    $container.children('.aui-nav-heading')\n        .attr('title', title)\n        .children('strong')\n        .text(title);\n\n    var $submenu = getSubmenu($trigger);\n    cloneExpander($submenu).appendTo($container);\n\n    /**\n     * Workaround to show all contents in the expander.\n     * This function should come from the expander component.\n     */\n    function cloneExpander(element) {\n        const $clone = clone(element);\n        deduplicateIDs($clone, uid);\n\n        if ($clone.hasClass('aui-expander-content')) {\n            $clone.find('.aui-expander-cutoff').remove();\n            $clone.removeClass('aui-expander-content');\n        }\n        return $clone;\n    }\n}\n\nconst SUBMENU_INLINE_DIALOG_CONTENTS_HTML =\n    '<div class=\"aui-inline-dialog-contents\">' +\n    '<div class=\"aui-sidebar-submenu\" >' +\n    '<div class=\"aui-navgroup aui-navgroup-vertical\">' +\n    '<div class=\"aui-navgroup-inner\">' +\n    '<div class=\"aui-nav-heading\"><strong></strong></div>' +\n    '</div>' +\n    '</div>' +\n    '</div>' +\n    '</div>';\n\nfunction inlineDialogHideHandler($trigger) {\n    $trigger.removeClass('active');\n}\n\nfunction constructAllSubmenus(sidebar) {\n    $(sidebar.collapsedTriggersSelector).each(function () {\n        var $trigger = $(this);\n        constructSubmenu(sidebar, $trigger);\n    });\n}\n\nvar tipsyOpts = {\n    trigger: 'manual',\n    gravity: 'w',\n    className: 'aui-sidebar-section-tooltip',\n    title: function () {\n        var $item = $(this);\n        if ($item.is('a')) {\n            return $item.attr('title') || $item.find('.aui-nav-item-label').text() || $item.data('tooltip');\n        } else {\n            return $item.children('.aui-nav').attr('title') || $item.children('.aui-nav-heading').text();\n        }\n    }\n};\n\nfunction showTipsy($trigger) {\n    $trigger.tooltip(tipsyOpts).tooltip('show');\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) { // if .aui-sidebar-group does not have a title to display\n        // Remove \"opacity\" inline style from Tipsy to allow the our own styles and transitions to be applied\n        $tip.css({opacity: ''}).addClass('tooltip-shown');\n    }\n}\n\nfunction hideTipsy($trigger) {\n    var $tip = $trigger.data('tipsy') && $trigger.data('tipsy').$tip;\n    if ($tip) {\n        var durationStr = $tip.css('transition-duration');\n\n        if (durationStr) {\n            // can be denominated in either s or ms\n            var timeoutMs = (durationStr.indexOf('ms') >= 0) ?\n                parseInt(durationStr.substring(0, durationStr.length - 2), 10) :\n                1000 * parseInt(durationStr.substring(0, durationStr.length - 1), 10);\n\n            // use a timeout because the transitionend event is not reliable (yet),\n            // more details here: https://bitbucket.atlassian.net/browse/BB-11599\n            // an example of this at http://labs.silverorange.com/files/webkit-bug/\n            // further caveats here: https://developer.mozilla.org/en-US/docs/Web/Events/transitionend\n            // \"In the case where a transition is removed before completion,\n            // such as if the transition-property is removed, then the event will not fire.\"\n            setTimeout(function () {\n                if ($tip.hasClass('tooltip-shown')) {\n                    $trigger.tooltip('hide');\n                    $tip.removeClass('tooltip-shown');\n                }\n            }, timeoutMs);\n        } else {\n            $tip.removeClass('tooltip-shown');\n        }\n    }\n}\n\nfunction lazilyInitializeSubmenus (sidebar) {\n    sidebar.$el.on('mouseenter mouseleave click focus', sidebar.collapsedTriggersSelector, function (e) {\n        const $trigger = $(e.target);\n        constructSubmenu(sidebar, $trigger);\n    });\n}\n\nfunction initializeHandlers(sidebar) {\n    var $sidebar = $('.aui-sidebar');\n    if (!$sidebar.length) {\n        return;\n    }\n\n    lazilyInitializeSubmenus(sidebar);\n\n    // AUI-2542: only enter touch mode on small screen touchable devices\n    if (hasTouch && mediaQuery('only screen and (max-device-width:1024px)')) {\n        $('body').addClass('aui-page-sidebar-touch');\n    }\n\n    var pendingReflow = null;\n    var onScrollResizeReflow = function () {\n        if (pendingReflow === null) {\n            pendingReflow = requestAnimationFrame(function () {\n                sidebar.reflow();\n                pendingReflow = null;\n            });\n        }\n    };\n\n    $(window).on('scroll resize', onScrollResizeReflow);\n    onScrollResizeReflow();\n\n    if (sidebar.isAnimated()) {\n        sidebar.$el.on('transitionend webkitTransitionEnd', function () {\n            sidebar.$el.trigger($.Event(EVENT_PREFIX + (sidebar.isCollapsed() ? 'collapse-end' : 'expand-end')));\n        });\n    }\n\n    sidebar.$el.on('click', '.aui-sidebar-toggle', function (e) {\n        e.preventDefault();\n        sidebar.toggle();\n    });\n\n    $('.aui-page-panel').on('click', function () {\n        if (!sidebar.isCollapsed() && sidebar.isViewportNarrow()) {\n            sidebar.collapse();\n        }\n    });\n\n    var toggleShortcutHandler = function (e) {\n        if (isNormalSquareBracket(e)) {\n            sidebar.toggle();\n        }\n    };\n\n    //We use keypress because it captures the actual character that was typed and not the physical key that was pressed.\n    //This accounts for other keyboard layouts\n\n    $(document).on('keypress', toggleShortcutHandler);\n\n    sidebar._remove = function () {\n        this._removeAllTooltips();\n        $(this.inlineDialogSelector).remove();\n        this.$el.off();\n        this.$el.remove();\n        $(document).off('keypress', toggleShortcutHandler);\n        $(window).off('scroll resize', onScrollResizeReflow);\n    };\n\n    sidebar.$el.on('touchend', function (e) {\n        if (sidebar.isCollapsed()) {\n            sidebar.expand();\n            e.preventDefault();\n        }\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.collapsedTriggersSelector, function () {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n\n        var $trigger = $(this);\n\n        if (!hasSubmenu($trigger)) {\n            showTipsy($trigger);\n        }\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.collapsedTriggersSelector, function () {\n        if (!sidebar.isCollapsed()) {\n            return;\n        }\n        hideTipsy($(this));\n    });\n\n    sidebar.$el.on('mouseenter focus', sidebar.toggleSelector, function () {\n        var $trigger = $(this);\n        if (sidebar.isCollapsed()) {\n            $trigger.data('tooltip', i18n.getText('aui.sidebar.expand.tooltip'));\n        } else {\n            $trigger.data('tooltip', i18n.getText('aui.sidebar.collapse.tooltip'));\n        }\n        showTipsy($trigger);\n    });\n\n    sidebar.$el.on('click blur mouseleave', sidebar.toggleSelector, function () {\n        hideTipsy($(this));\n    });\n\n    function isNormalTab(e) {\n        return e.keyCode === keyCode.TAB && !e.shiftKey && !e.altKey;\n    }\n\n    function isNormalSquareBracket(e) {\n        return e.which === keyCode.LEFT_SQUARE_BRACKET && !e.shiftKey && !e.ctrlKey && !e.metaKey && !isInput(e.target);\n    }\n\n    function isShiftTab(e) {\n        return e.keyCode === keyCode.TAB && e.shiftKey;\n    }\n\n    function isFirstSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable')[0];\n    }\n\n    function isLastSubmenuItem(item, $submenuDialog) {\n        return item === $submenuDialog.find(':aui-tabbable').last()[0];\n    }\n\n    /**\n     * Force to focus on the first tabbable item in inline dialog.\n     * Reason: inline dialog will be hidden as soon as the trigger is out of focus (onBlur event)\n     * This function should come directly from inline dialog component.\n     */\n    function focusFirstItemOfInlineDialog($inlineDialog) {\n        $inlineDialog.attr('persistent', '');\n        // don't use :aui-tabbable:first as it will select the first tabbable item in EACH nav group\n        $inlineDialog.find(':aui-tabbable').first().focus();\n        // workaround on IE:\n        // delay the persistence of inline dialog to make sure onBlur event was triggered first\n        setTimeout(function () {\n            $inlineDialog.removeAttr('persistent');\n        }, 100);\n    }\n\n    sidebar.$el.on('keydown', sidebar.collapsedTriggersSelector, function (e) {\n        if (sidebar.isCollapsed()) {\n            var triggerEl = e.target;\n            var submenuInlineDialog = getSubmenuInlineDialog(triggerEl);\n            if (!submenuInlineDialog) {\n                return;\n            }\n\n            var $submenuInlineDialog = $(submenuInlineDialog);\n\n            if (isNormalTab(e) && submenuInlineDialog.open) {\n                e.preventDefault();\n                focusFirstItemOfInlineDialog($submenuInlineDialog);\n\n                $submenuInlineDialog.on('keydown', function (e) {\n                    if (isShiftTab(e) && isFirstSubmenuItem(e.target, $submenuInlineDialog) || isNormalTab(e) && isLastSubmenuItem(e.target, $submenuInlineDialog)) {\n                        triggerEl.focus();\n                        // unbind event and close submenu as the focus is out of the submenu\n                        $(this).off('keydown');\n                        hideAllSubmenus();\n                    }\n                });\n            }\n        }\n    });\n}\n\nvar sidebar = widget('sidebar', Sidebar);\n\n$(function () {\n    sidebar('.aui-sidebar');\n});\n\nvar sidebarSubmenuDeprecationLogger = deprecate.getMessageLogger('Sidebar.submenus', {\n    removeInVersion: '9.0.0',\n    sinceVersion: '5.8.0'\n});\n\nglobalize('sidebar', sidebar);\n\nexport default sidebar;\n","/**\n * Inspired by matchMedia() polyfill\n * https://github.com/paulirish/matchMedia.js/blob/953faa1489284655ed9d6e03bf48d39df70612c4/matchMedia.js\n */\n\n\nexport default function mediaQuery (mq) {\n    if (window.matchMedia) {\n        return window.matchMedia(mq).matches;\n    }\n\n    // fallback support for <=IE9 (remove this code if we don't want to support IE9 anymore)\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.id = 'testMedia';\n    style.innerText = `@media ${mq} { #testMedia { width: 1px; } }`;\n    document.head.appendChild(style);\n    var info = window.getComputedStyle(style, null);\n    var testMediaQuery = info.width === '1px';\n    style.parentNode.removeChild(style);\n    return testMediaQuery;\n};\n","\nvar DocumentTouch = window.DocumentTouch;\nvar hasTouch = ('ontouchstart' in window) || DocumentTouch && document instanceof DocumentTouch;\nexport default hasTouch;\n","export default function (el) {\n    return 'value' in el || el.isContentEditable;\n}\n","import $ from '../jquery';\n\nfunction replaceAttributeForID($clone, id, value, attribute) {\n    $clone.find(`[${attribute}]`).attr(attribute, (i, oldValue) => id === oldValue ? value : undefined);\n}\n\nfunction setCorrespondingTriggersID($clone, id, uuid) {\n    replaceAttributeForID($clone, id, uuid, 'aria-controls');\n    replaceAttributeForID($clone, id, uuid, 'aria-owns');\n}\n\nexport default function deduplicateIDs($clone, uidFunction) {\n    let wrapper = $('<div></div>');\n    wrapper.append($clone);\n    wrapper.find('[id]')\n        .each((i, el) => {\n            const uuid = uidFunction(`${el.id}-`);\n            setCorrespondingTriggersID(wrapper, el.id, uuid);\n            el.id = uuid;\n        });\n}\n","import './styles/aui.page.reset';\nimport './styles/aui.page.typography';\nimport './styles/aui.page.iconography';\nimport './styles/aui.page.links';\nimport './styles/aui.pattern.page-header'; // for sidebar titles\nimport './styles/aui.pattern.badge'; // for sidebar item notifications (sidebar contextually overrides them)\nimport './styles/aui.pattern.button';\nimport './styles/aui.pattern.icon';\nimport './styles/aui.pattern.nav'; // for vertical nav\nimport './aui.component.nav'; // for navigation expand/collapse behaviour\nimport './aui.component.inline-dialog2'; // for collapsed navigation menus :(\nimport './aui.component.tooltip'; // for collapsed navigation items\nimport '@atlassian/aui/src/less/aui-sidebar.less';\nexport { default as sidebar } from '@atlassian/aui/src/js/aui/sidebar';\n"],"sourceRoot":""}