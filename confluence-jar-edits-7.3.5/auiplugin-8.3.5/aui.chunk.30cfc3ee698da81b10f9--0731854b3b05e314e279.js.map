{"version":3,"sources":["webpack:////buildeng/bamboo-agent-home/xml-data/build-dir/AUI-RELNEXT19-JOB1/aui/node_modules/jquery-ui/ui/widgets/droppable.js"],"names":["__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","__webpack_require__","undefined","$","widget","version","widgetEventPrefix","options","accept","addClasses","greedy","scope","tolerance","activate","deactivate","drop","out","over","_create","proportions","o","this","isover","isout","isFunction","d","is","arguments","length","width","element","offsetWidth","height","offsetHeight","_addToManager","_addClass","ui","ddmanager","droppables","push","_splice","i","splice","_destroy","_setOption","key","value","_super","_activate","event","draggable","current","_addActiveClass","_trigger","_deactivate","_removeActiveClass","_over","currentItem","call","_addHoverClass","_out","_removeHoverClass","_drop","custom","childrenIntersection","find","not","each","inst","droppable","disabled","intersect","extend","offset","c","helper","position","positionAbs","_removeClass","isOverAxis","x","reference","size","toleranceMode","x1","absolute","left","margins","y1","top","x2","helperProportions","y2","l","t","r","b","pageY","pageX","default","prepareOffsets","j","m","type","list","addBack","droppablesLoop","visible","css","dropped","slice","dragStart","parentsUntil","on","refreshPositions","drag","greedyChild","parentInstance","parent","intersects","parents","filter","dragStop","off","uiBackCompat","hoverClass","activeClass","addClass","removeClass","apply","exports","module"],"mappings":"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","file":"aui.chunk.30cfc3ee698da81b10f9--0731854b3b05e314e279.js","sourcesContent":["/*!\n * jQuery UI Droppable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Droppable\n//>>group: Interactions\n//>>description: Enables drop targets for draggable elements.\n//>>docs: http://api.jqueryui.com/droppable/\n//>>demos: http://jqueryui.com/droppable/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./draggable\",\n\t\t\t\"./mouse\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.droppable\", {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drop\",\n\toptions: {\n\t\taccept: \"*\",\n\t\taddClasses: true,\n\t\tgreedy: false,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\n\t\t// Callbacks\n\t\tactivate: null,\n\t\tdeactivate: null,\n\t\tdrop: null,\n\t\tout: null,\n\t\tover: null\n\t},\n\t_create: function() {\n\n\t\tvar proportions,\n\t\t\to = this.options,\n\t\t\taccept = o.accept;\n\n\t\tthis.isover = false;\n\t\tthis.isout = true;\n\n\t\tthis.accept = $.isFunction( accept ) ? accept : function( d ) {\n\t\t\treturn d.is( accept );\n\t\t};\n\n\t\tthis.proportions = function( /* valueToWrite */ ) {\n\t\t\tif ( arguments.length ) {\n\n\t\t\t\t// Store the droppable's proportions\n\t\t\t\tproportions = arguments[ 0 ];\n\t\t\t} else {\n\n\t\t\t\t// Retrieve or derive the droppable's proportions\n\t\t\t\treturn proportions ?\n\t\t\t\t\tproportions :\n\t\t\t\t\tproportions = {\n\t\t\t\t\t\twidth: this.element[ 0 ].offsetWidth,\n\t\t\t\t\t\theight: this.element[ 0 ].offsetHeight\n\t\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tthis._addToManager( o.scope );\n\n\t\to.addClasses && this._addClass( \"ui-droppable\" );\n\n\t},\n\n\t_addToManager: function( scope ) {\n\n\t\t// Add the reference and positions to the manager\n\t\t$.ui.ddmanager.droppables[ scope ] = $.ui.ddmanager.droppables[ scope ] || [];\n\t\t$.ui.ddmanager.droppables[ scope ].push( this );\n\t},\n\n\t_splice: function( drop ) {\n\t\tvar i = 0;\n\t\tfor ( ; i < drop.length; i++ ) {\n\t\t\tif ( drop[ i ] === this ) {\n\t\t\t\tdrop.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tvar drop = $.ui.ddmanager.droppables[ this.options.scope ];\n\n\t\tthis._splice( drop );\n\t},\n\n\t_setOption: function( key, value ) {\n\n\t\tif ( key === \"accept\" ) {\n\t\t\tthis.accept = $.isFunction( value ) ? value : function( d ) {\n\t\t\t\treturn d.is( value );\n\t\t\t};\n\t\t} else if ( key === \"scope\" ) {\n\t\t\tvar drop = $.ui.ddmanager.droppables[ this.options.scope ];\n\n\t\t\tthis._splice( drop );\n\t\t\tthis._addToManager( value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_activate: function( event ) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\tthis._addActiveClass();\n\t\tif ( draggable ) {\n\t\t\tthis._trigger( \"activate\", event, this.ui( draggable ) );\n\t\t}\n\t},\n\n\t_deactivate: function( event ) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\tthis._removeActiveClass();\n\t\tif ( draggable ) {\n\t\t\tthis._trigger( \"deactivate\", event, this.ui( draggable ) );\n\t\t}\n\t},\n\n\t_over: function( event ) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\n\t\t\t\tdraggable.element ) ) ) {\n\t\t\tthis._addHoverClass();\n\t\t\tthis._trigger( \"over\", event, this.ui( draggable ) );\n\t\t}\n\n\t},\n\n\t_out: function( event ) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\n\t\t\t\tdraggable.element ) ) ) {\n\t\t\tthis._removeHoverClass();\n\t\t\tthis._trigger( \"out\", event, this.ui( draggable ) );\n\t\t}\n\n\t},\n\n\t_drop: function( event, custom ) {\n\n\t\tvar draggable = custom || $.ui.ddmanager.current,\n\t\t\tchildrenIntersection = false;\n\n\t\t// Bail if draggable and droppable are same element\n\t\tif ( !draggable || ( draggable.currentItem ||\n\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.element\n\t\t\t.find( \":data(ui-droppable)\" )\n\t\t\t.not( \".ui-draggable-dragging\" )\n\t\t\t.each( function() {\n\t\t\t\tvar inst = $( this ).droppable( \"instance\" );\n\t\t\t\tif (\n\t\t\t\t\tinst.options.greedy &&\n\t\t\t\t\t!inst.options.disabled &&\n\t\t\t\t\tinst.options.scope === draggable.options.scope &&\n\t\t\t\t\tinst.accept.call(\n\t\t\t\t\t\tinst.element[ 0 ], ( draggable.currentItem || draggable.element )\n\t\t\t\t\t) &&\n\t\t\t\t\tintersect(\n\t\t\t\t\t\tdraggable,\n\t\t\t\t\t\t$.extend( inst, { offset: inst.element.offset() } ),\n\t\t\t\t\t\tinst.options.tolerance, event\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tchildrenIntersection = true;\n\t\t\t\t\treturn false; }\n\t\t\t} );\n\t\tif ( childrenIntersection ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.accept.call( this.element[ 0 ],\n\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\n\t\t\tthis._removeActiveClass();\n\t\t\tthis._removeHoverClass();\n\n\t\t\tthis._trigger( \"drop\", event, this.ui( draggable ) );\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tui: function( c ) {\n\t\treturn {\n\t\t\tdraggable: ( c.currentItem || c.element ),\n\t\t\thelper: c.helper,\n\t\t\tposition: c.position,\n\t\t\toffset: c.positionAbs\n\t\t};\n\t},\n\n\t// Extension points just to make backcompat sane and avoid duplicating logic\n\t// TODO: Remove in 1.13 along with call to it below\n\t_addHoverClass: function() {\n\t\tthis._addClass( \"ui-droppable-hover\" );\n\t},\n\n\t_removeHoverClass: function() {\n\t\tthis._removeClass( \"ui-droppable-hover\" );\n\t},\n\n\t_addActiveClass: function() {\n\t\tthis._addClass( \"ui-droppable-active\" );\n\t},\n\n\t_removeActiveClass: function() {\n\t\tthis._removeClass( \"ui-droppable-active\" );\n\t}\n} );\n\nvar intersect = $.ui.intersect = ( function() {\n\tfunction isOverAxis( x, reference, size ) {\n\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\n\t}\n\n\treturn function( draggable, droppable, toleranceMode, event ) {\n\n\t\tif ( !droppable.offset ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar x1 = ( draggable.positionAbs ||\n\t\t\t\tdraggable.position.absolute ).left + draggable.margins.left,\n\t\t\ty1 = ( draggable.positionAbs ||\n\t\t\t\tdraggable.position.absolute ).top + draggable.margins.top,\n\t\t\tx2 = x1 + draggable.helperProportions.width,\n\t\t\ty2 = y1 + draggable.helperProportions.height,\n\t\t\tl = droppable.offset.left,\n\t\t\tt = droppable.offset.top,\n\t\t\tr = l + droppable.proportions().width,\n\t\t\tb = t + droppable.proportions().height;\n\n\t\tswitch ( toleranceMode ) {\n\t\tcase \"fit\":\n\t\t\treturn ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );\n\t\tcase \"intersect\":\n\t\t\treturn ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half\n\t\t\t\tx2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half\n\t\t\t\tt < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half\n\t\t\t\ty2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half\n\t\tcase \"pointer\":\n\t\t\treturn isOverAxis( event.pageY, t, droppable.proportions().height ) &&\n\t\t\t\tisOverAxis( event.pageX, l, droppable.proportions().width );\n\t\tcase \"touch\":\n\t\t\treturn (\n\t\t\t\t( y1 >= t && y1 <= b ) || // Top edge touching\n\t\t\t\t( y2 >= t && y2 <= b ) || // Bottom edge touching\n\t\t\t\t( y1 < t && y2 > b ) // Surrounded vertically\n\t\t\t) && (\n\t\t\t\t( x1 >= l && x1 <= r ) || // Left edge touching\n\t\t\t\t( x2 >= l && x2 <= r ) || // Right edge touching\n\t\t\t\t( x1 < l && x2 > r ) // Surrounded horizontally\n\t\t\t);\n\t\tdefault:\n\t\t\treturn false;\n\t\t}\n\t};\n} )();\n\n/*\n\tThis manager tracks offsets of draggables and droppables\n*/\n$.ui.ddmanager = {\n\tcurrent: null,\n\tdroppables: { \"default\": [] },\n\tprepareOffsets: function( t, event ) {\n\n\t\tvar i, j,\n\t\t\tm = $.ui.ddmanager.droppables[ t.options.scope ] || [],\n\t\t\ttype = event ? event.type : null, // workaround for #2317\n\t\t\tlist = ( t.currentItem || t.element ).find( \":data(ui-droppable)\" ).addBack();\n\n\t\tdroppablesLoop: for ( i = 0; i < m.length; i++ ) {\n\n\t\t\t// No disabled and non-accepted\n\t\t\tif ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ],\n\t\t\t\t\t( t.currentItem || t.element ) ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Filter out elements in the current dragged item\n\t\t\tfor ( j = 0; j < list.length; j++ ) {\n\t\t\t\tif ( list[ j ] === m[ i ].element[ 0 ] ) {\n\t\t\t\t\tm[ i ].proportions().height = 0;\n\t\t\t\t\tcontinue droppablesLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tm[ i ].visible = m[ i ].element.css( \"display\" ) !== \"none\";\n\t\t\tif ( !m[ i ].visible ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Activate the droppable if used directly from draggables\n\t\t\tif ( type === \"mousedown\" ) {\n\t\t\t\tm[ i ]._activate.call( m[ i ], event );\n\t\t\t}\n\n\t\t\tm[ i ].offset = m[ i ].element.offset();\n\t\t\tm[ i ].proportions( {\n\t\t\t\twidth: m[ i ].element[ 0 ].offsetWidth,\n\t\t\t\theight: m[ i ].element[ 0 ].offsetHeight\n\t\t\t} );\n\n\t\t}\n\n\t},\n\tdrop: function( draggable, event ) {\n\n\t\tvar dropped = false;\n\n\t\t// Create a copy of the droppables in case the list changes during the drop (#9116)\n\t\t$.each( ( $.ui.ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {\n\n\t\t\tif ( !this.options ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !this.options.disabled && this.visible &&\n\t\t\t\t\tintersect( draggable, this, this.options.tolerance, event ) ) {\n\t\t\t\tdropped = this._drop.call( this, event ) || dropped;\n\t\t\t}\n\n\t\t\tif ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ],\n\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\n\t\t\t\tthis.isout = true;\n\t\t\t\tthis.isover = false;\n\t\t\t\tthis._deactivate.call( this, event );\n\t\t\t}\n\n\t\t} );\n\t\treturn dropped;\n\n\t},\n\tdragStart: function( draggable, event ) {\n\n\t\t// Listen for scrolling so that if the dragging causes scrolling the position of the\n\t\t// droppables can be recalculated (see #5003)\n\t\tdraggable.element.parentsUntil( \"body\" ).on( \"scroll.droppable\", function() {\n\t\t\tif ( !draggable.options.refreshPositions ) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( draggable, event ) {\n\n\t\t// If you have a highly dynamic page, you might try this option. It renders positions\n\t\t// every time you move the mouse.\n\t\tif ( draggable.options.refreshPositions ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t}\n\n\t\t// Run through all droppables and check their positions based on specific tolerance options\n\t\t$.each( $.ui.ddmanager.droppables[ draggable.options.scope ] || [], function() {\n\n\t\t\tif ( this.options.disabled || this.greedyChild || !this.visible ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar parentInstance, scope, parent,\n\t\t\t\tintersects = intersect( draggable, this, this.options.tolerance, event ),\n\t\t\t\tc = !intersects && this.isover ?\n\t\t\t\t\t\"isout\" :\n\t\t\t\t\t( intersects && !this.isover ? \"isover\" : null );\n\t\t\tif ( !c ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.options.greedy ) {\n\n\t\t\t\t// find droppable parents with same scope\n\t\t\t\tscope = this.options.scope;\n\t\t\t\tparent = this.element.parents( \":data(ui-droppable)\" ).filter( function() {\n\t\t\t\t\treturn $( this ).droppable( \"instance\" ).options.scope === scope;\n\t\t\t\t} );\n\n\t\t\t\tif ( parent.length ) {\n\t\t\t\t\tparentInstance = $( parent[ 0 ] ).droppable( \"instance\" );\n\t\t\t\t\tparentInstance.greedyChild = ( c === \"isover\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We just moved into a greedy child\n\t\t\tif ( parentInstance && c === \"isover\" ) {\n\t\t\t\tparentInstance.isover = false;\n\t\t\t\tparentInstance.isout = true;\n\t\t\t\tparentInstance._out.call( parentInstance, event );\n\t\t\t}\n\n\t\t\tthis[ c ] = true;\n\t\t\tthis[ c === \"isout\" ? \"isover\" : \"isout\" ] = false;\n\t\t\tthis[ c === \"isover\" ? \"_over\" : \"_out\" ].call( this, event );\n\n\t\t\t// We just moved out of a greedy child\n\t\t\tif ( parentInstance && c === \"isout\" ) {\n\t\t\t\tparentInstance.isout = false;\n\t\t\t\tparentInstance.isover = true;\n\t\t\t\tparentInstance._over.call( parentInstance, event );\n\t\t\t}\n\t\t} );\n\n\t},\n\tdragStop: function( draggable, event ) {\n\t\tdraggable.element.parentsUntil( \"body\" ).off( \"scroll.droppable\" );\n\n\t\t// Call prepareOffsets one final time since IE does not fire return scroll events when\n\t\t// overflow was caused by drag (see #5003)\n\t\tif ( !draggable.options.refreshPositions ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t}\n\t}\n};\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for activeClass and hoverClass options\n\t$.widget( \"ui.droppable\", $.ui.droppable, {\n\t\toptions: {\n\t\t\thoverClass: false,\n\t\t\tactiveClass: false\n\t\t},\n\t\t_addActiveClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.activeClass ) {\n\t\t\t\tthis.element.addClass( this.options.activeClass );\n\t\t\t}\n\t\t},\n\t\t_removeActiveClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.activeClass ) {\n\t\t\t\tthis.element.removeClass( this.options.activeClass );\n\t\t\t}\n\t\t},\n\t\t_addHoverClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.hoverClass ) {\n\t\t\t\tthis.element.addClass( this.options.hoverClass );\n\t\t\t}\n\t\t},\n\t\t_removeHoverClass: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.hoverClass ) {\n\t\t\t\tthis.element.removeClass( this.options.hoverClass );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nreturn $.ui.droppable;\n\n} ) );\n"],"sourceRoot":""}