{"version":3,"sources":["webpack:///../src/js/aui/expander.js","webpack:///./aui.component.expander.js"],"names":["__webpack_require__","$document","_jquery2","default","document","getExpanderProperties","event","properties","$trigger","currentTarget","$content","find","attr","triggerIsParent","parent","filter","length","$shortContent","height","css","isCollapsible","data","replaceText","replaceSelector","$replaceElement","text","EXPANDER_EVENTS","aui-expander-invoke","trigger","aui-expander-expand","outerHeight","hide","aui-expander-collapse","show","click.aui-expander","on"],"mappings":"qIAAA,wDAAAA,EAAA,SAEA,IAAIC,GAAY,EAAAC,EAAAC,SAAEC,UAGdC,EAAwB,SAAUC,GAClC,IAAIC,KAWJ,OATAA,EAAWC,UAAW,EAAAN,EAAAC,SAAEG,EAAMG,eAC9BF,EAAWG,SAAWT,EAAUU,KAAK,IAAMJ,EAAWC,SAASI,KAAK,kBACpEL,EAAWM,gBAAsF,IAApEN,EAAWG,SAASI,SAASC,OAAOR,EAAWC,UAAUQ,OACtFT,EAAWU,cAAgBV,EAAWM,gBAAkBN,EAAWC,SAASG,KAAK,+BAAiC,KAClHJ,EAAWW,OAASX,EAAWG,SAASS,IAAI,cAC5CZ,EAAWa,eAA4D,IAA5Cb,EAAWC,SAASa,KAAK,eACpDd,EAAWe,YAAcf,EAAWC,SAASI,KAAK,qBAClDL,EAAWgB,gBAAkBhB,EAAWC,SAASa,KAAK,oBAE/Cd,GAGPe,EAAc,SAAUf,GACxB,GAAIA,EAAWe,YAAa,CACxB,IAAIE,EAAkBjB,EAAWgB,gBAC7BhB,EAAWC,SAASG,KAAKJ,EAAWgB,iBACpChB,EAAWC,SAEfD,EAAWC,SAASI,KAAK,oBAAqBY,EAAgBC,QAC9DD,EAAgBC,KAAKlB,EAAWe,eAKpCI,GACAC,sBAAuB,SAAUrB,GAC7B,IAAIE,GAAW,EAAAN,EAAAC,SAAEG,EAAMG,eACnBC,EAAWT,EAAUU,KAAK,IAAMH,EAASI,KAAK,kBAC9CQ,GAAiD,IAAjCZ,EAASa,KAAK,eAGK,SAAnCX,EAASE,KAAK,kBAA+BQ,EAC7CZ,EAASoB,QAAQ,yBAEjBpB,EAASoB,QAAQ,wBAIzBC,sBAAuB,SAAUvB,GAC7B,IAAIC,EAAaF,EAAsBC,GAGW,SAA9CC,EAAWG,SAASE,KAAK,mBAI7BL,EAAWG,SAASE,KAAK,gBAAiB,QAC1CL,EAAWC,SAASI,KAAK,gBAAiB,QAEtCL,EAAWG,SAASoB,cAAgB,GACpCvB,EAAWG,SAASE,KAAK,cAAe,SAI5CU,EAAYf,GAGRA,EAAWM,iBACXN,EAAWU,cAAcc,OAE7BxB,EAAWC,SAASoB,QAAQ,2BAIhCI,wBAAyB,SAAU1B,GAC/B,IAAIC,EAAaF,EAAsBC,GAGW,SAA9CC,EAAWG,SAASE,KAAK,mBAK7BU,EAAYf,GAGZA,EAAWG,SAASE,KAAK,gBAAiB,SAC1CL,EAAWC,SAASI,KAAK,gBAAiB,SAGtCL,EAAWM,iBACXN,EAAWU,cAAcgB,OAIa,IAAtC1B,EAAWG,SAASoB,eACpBvB,EAAWG,SAASE,KAAK,cAAe,QAG5CL,EAAWC,SAASoB,QAAQ,4BAGhCM,qBAAsB,SAAU5B,IACd,EAAAJ,EAAAC,SAAEG,EAAMG,eACdmB,QAAQ,sBAAuBtB,EAAMG,iBAKrDR,EAAUkC,GAAGT,EAAiB,6GC3G9B1B,EAAA,QACAA,EAAA","file":"aui.chunk.8de3505c535ba3bcd956--07d0e4be166aa46a027e.js","sourcesContent":["import $ from './jquery';\n\nvar $document = $(document);\n\n//convenience function because this needs to be run for all the events.\nvar getExpanderProperties = function (event) {\n    var properties = {};\n\n    properties.$trigger = $(event.currentTarget);\n    properties.$content = $document.find('#' + properties.$trigger.attr('aria-controls'));\n    properties.triggerIsParent = properties.$content.parent().filter(properties.$trigger).length !== 0;\n    properties.$shortContent = properties.triggerIsParent ? properties.$trigger.find('.aui-expander-short-content') : null;\n    properties.height = properties.$content.css('min-height');\n    properties.isCollapsible = properties.$trigger.data('collapsible') !== false;\n    properties.replaceText = properties.$trigger.attr('data-replace-text'); //can't use .data here because it doesn't update after the first call\n    properties.replaceSelector = properties.$trigger.data('replace-selector');\n\n    return properties;\n};\n\nvar replaceText = function (properties) {\n    if (properties.replaceText) {\n        var $replaceElement = properties.replaceSelector ?\n            properties.$trigger.find(properties.replaceSelector) :\n            properties.$trigger;\n\n        properties.$trigger.attr('data-replace-text', $replaceElement.text());\n        $replaceElement.text(properties.replaceText);\n    }\n};\n\n//events that the expander listens to\nvar EXPANDER_EVENTS = {\n    'aui-expander-invoke': function (event) {\n        var $trigger = $(event.currentTarget);\n        var $content = $document.find('#' + $trigger.attr('aria-controls'));\n        var isCollapsible = $trigger.data('collapsible') !== false;\n\n        //determine if content should be expanded or collapsed\n        if ($content.attr('aria-expanded') === 'true' && isCollapsible) {\n            $trigger.trigger('aui-expander-collapse');\n        } else {\n            $trigger.trigger('aui-expander-expand');\n        }\n    },\n\n    'aui-expander-expand': function (event) {\n        var properties = getExpanderProperties(event);\n\n        // If the expander is already expanded, do nothing.\n        if (properties.$content.attr('aria-expanded') === 'true') {\n            return;\n        }\n\n        properties.$content.attr('aria-expanded', 'true');\n        properties.$trigger.attr('aria-expanded', 'true');\n\n        if (properties.$content.outerHeight() > 0) {\n            properties.$content.attr('aria-hidden', 'false');\n        }\n\n        //handle replace text\n        replaceText(properties);\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.hide();\n        }\n        properties.$trigger.trigger('aui-expander-expanded');\n\n    },\n\n    'aui-expander-collapse': function (event) {\n        var properties = getExpanderProperties(event);\n\n        // If the expander is already collapsed, do nothing.\n        if (properties.$content.attr('aria-expanded') !== 'true') {\n            return;\n        }\n\n        //handle replace text\n        replaceText(properties);\n\n        //collapse the expander\n        properties.$content.attr('aria-expanded', 'false');\n        properties.$trigger.attr('aria-expanded', 'false');\n\n        //if the trigger is the parent also hide the short-content (default)\n        if (properties.triggerIsParent) {\n            properties.$shortContent.show();\n        }\n\n        //handle the height option\n        if (properties.$content.outerHeight() === 0) {\n            properties.$content.attr('aria-hidden', 'true');\n        }\n\n        properties.$trigger.trigger('aui-expander-collapsed');\n    },\n\n    'click.aui-expander': function (event) {\n        var $target = $(event.currentTarget);\n        $target.trigger('aui-expander-invoke', event.currentTarget);\n    }\n};\n\n//delegate events to the triggers on the page\n$document.on(EXPANDER_EVENTS, '.aui-expander-trigger');\n","import '@atlassian/aui/src/less/aui-experimental-expander.less';\nimport '@atlassian/aui/src/js/aui/expander.js';\nexport {};\n"],"sourceRoot":""}