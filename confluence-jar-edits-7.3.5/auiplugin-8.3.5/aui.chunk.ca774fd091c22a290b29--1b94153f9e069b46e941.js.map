{"version":3,"sources":["webpack:///../src/js/aui/tabs.js","webpack:///../src/js/aui/is-clipped.js","webpack:///./styles/aui.pattern.tabs.js","webpack:///../src/js/aui/internal/add-id.js","webpack:///./aui.component.tabs.js"],"names":["__webpack_require__","logger","template","window","skateTemplateHtml","STORAGE_PREFIX","RESPONSIVE_OPT_IN_SELECTOR","getPaneIdFromTabLink","el","$el","_jquery2","default","maybeId","String","attr","trim","indexOf","substr","getPaneFromTabLink","document","getElementById","ResponsiveAdapter","totalTabsWidth","$visibleTabs","$dropdown","totalVisibleTabsWidth","this","totalVisibleTabWidth","totalDropdownTabsWidth","find","each","index","tab","parseInt","getAttribute","$tabs","totalWidth","outerWidth","removeResponsiveDropdown","$dropdownTriggerTab","remove","createResponsiveDropdownTrigger","$tabsMenu","id","triggerMarkup","append","createResponsiveDropdown","$tabsContainer","dropdownMarkup","findNewVisibleTabs","tabs","parentWidth","dropdownTriggerTabWidth","hasMoreSpace","currentTotalTabWidth","i","length","slice","moveVisibleTabs","oldVisibleTabs","$tabsParent","dropdownId","newVisibleTabs","parent","lastTabIndex","j","$tab","moveTabToResponsiveDropdown","$tabLink","addClass","hasClass","prepend","moveInvisibleTabs","tabsInDropdown","remainingSpace","tabInDropdownWidth","moveTabOutOfDropdown","removeClass","children","before","switchToTab","pane","$pane","siblings","parents","removeAttr","closest","trigger","error","isPersistentTabGroup","$tabGroup","undefined","createPersistentKey","tabGroupId","value","handleTabClick","e","change","target","preventDefault","responsiveResizeHandler","forEach","tabsContainer","first","$dropdownTrigger","isResponsive","needsResponsive","$newVisibleTabs","toArray","visibleTabWidth","$tabsInDropdown","on","is","hide","show","calculateResponsiveTabs","initWindow","debounced","_debounce2","responsive","initTab","setAttribute","data","$tabMenu","link","$thisLink","targetPane","_addId2","warn","enhanceTabLink","call","querySelectorAll","initPane","initPanes","initTabs","$tabGroups","ii","eq","get","localStorage","persistentTabId","getItem","anchor","querySelector","updateTabsFromLocalStorage","setup","thisTab","_isClipped2","text","a","$a","tabId","setItem","updateLocalStorageEntry","TabContainerEl","_skate2","created","element","skate","init","prototype","select","findPanes","findTabs","TabItemEl","extends","TabPaneEl","attached","$component","findComponent","$element","firstChild","wrap","textContent","_globalize2","isClipped","prop","addId","prefix","arguments","addprefix","_uniqueId2","Object","keys","_tabs","key","defineProperty","exports","enumerable"],"mappings":"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","file":"aui.chunk.ca774fd091c22a290b29--1b94153f9e069b46e941.js","sourcesContent":["import 'skatejs-template-html';\nimport * as logger from './internal/log';\nimport debounce from './debounce';\nimport $ from './jquery';\nimport addId from './internal/add-id';\nimport globalize from './internal/globalize';\nimport isClipped from './is-clipped';\nimport skate from './internal/skate';\n\nvar template = window.skateTemplateHtml;\n\nvar STORAGE_PREFIX = '_internal-aui-tabs-';\nvar RESPONSIVE_OPT_IN_SELECTOR = '.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive=\"false\"]), aui-tabs[responsive]:not([responsive=\"false\"])';\n\nfunction getPaneIdFromTabLink (el) {\n    let $el = $(el);\n    let maybeId = String($el.attr('href') || '').trim();\n    return maybeId.indexOf('#') === 0 ? maybeId.substr(1) : null;\n}\n\n/**\n * Locate what is assumed to be a tab panel within the DOM, based on the link element passed in\n * @param {HTMLElement} el a tab link element with an href attribute pointing to a tab panel\n * @returns {HTMLElement|null} the element with matching ID if it exists, otherwise null\n */\nfunction getPaneFromTabLink (el) {\n    let maybeId = getPaneIdFromTabLink(el);\n    return maybeId ? document.getElementById(maybeId) : null;\n}\n\nfunction enhanceTabLink (link) {\n    var $thisLink = $(link);\n    var targetPane = getPaneFromTabLink($thisLink);\n\n    if (!getPaneIdFromTabLink(link)) {\n        logger.error('A tab link must use an anchor link (e.g., <a href=\"#a-valid-id\"></a>) to work correctly.', link);\n    }\n\n    if (targetPane) {\n        addId($thisLink);\n        $thisLink.attr('role', 'tab');\n        $(targetPane).attr('aria-labelledby', $thisLink.attr('id'));\n\n        if ($thisLink.parent().hasClass('active-tab')) {\n            $thisLink.attr('aria-selected', 'true');\n        } else {\n            $thisLink.attr('aria-selected', 'false');\n        }\n    } else {\n        logger.warn('A tab panel could not be found with the tab link\\'s configured href.' +\n            ' Check whether the tab link href is correct.', link);\n    }\n}\n\nvar ResponsiveAdapter = {\n    totalTabsWidth: function ($visibleTabs, $dropdown) {\n        var totalVisibleTabsWidth = this.totalVisibleTabWidth($visibleTabs);\n        var totalDropdownTabsWidth = 0;\n\n        $dropdown.find('li').each(function (index, tab) {\n            totalDropdownTabsWidth += parseInt(tab.getAttribute('data-aui-tab-width'));\n        });\n\n        return totalVisibleTabsWidth + totalDropdownTabsWidth;\n    },\n\n    totalVisibleTabWidth: function ($tabs) {\n        var totalWidth = 0;\n\n        $tabs.each(function (index, tab) {\n            totalWidth += $(tab).outerWidth();\n        });\n\n        return totalWidth;\n    },\n\n    removeResponsiveDropdown: function ($dropdown, $dropdownTriggerTab) {\n        $dropdown.remove();\n        $dropdownTriggerTab.remove();\n    },\n\n    createResponsiveDropdownTrigger: function ($tabsMenu, id) {\n        var triggerMarkup = `<li class=\"menu-item aui-tabs-responsive-trigger-item\">\n            <a\n                class=\"aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless\"\n                id=\"aui-tabs-responsive-trigger-${id}\"\n                aria-haspopup=\"true\"\n                aria-controls=\"aui-tabs-responsive-dropdown-${id}\"\n                href=\"#aui-tabs-responsive-dropdown-${id}\">...</a>\n            </li>`;\n        $tabsMenu.append(triggerMarkup);\n        return $tabsMenu.find('.aui-tabs-responsive-trigger-item');\n    },\n\n    createResponsiveDropdown: function ($tabsContainer, id) {\n        var dropdownMarkup = '<div class=\"aui-dropdown2 aui-style-default aui-tabs-responsive-dropdown\" id=\"aui-tabs-responsive-dropdown-' + id + '\">' +\n            '<ul>' +\n            '</ul>' +\n            '</div>';\n        $tabsContainer.append(dropdownMarkup);\n        var $dropdown = $tabsContainer.find('#aui-tabs-responsive-dropdown-' + id);\n        return $dropdown;\n    },\n\n    findNewVisibleTabs: function (tabs, parentWidth, dropdownTriggerTabWidth) {\n        function hasMoreSpace(currentTotalTabWidth, dropdownTriggerTabWidth, parentWidth) {\n            return currentTotalTabWidth + dropdownTriggerTabWidth <= parentWidth;\n        }\n\n        var currentTotalTabWidth = 0;\n\n        for (var i = 0; hasMoreSpace(currentTotalTabWidth, dropdownTriggerTabWidth, parentWidth) && i < tabs.length; i++) {\n            var $tab = $(tabs[i]);\n            var tabWidth = $tab.outerWidth(true);\n            currentTotalTabWidth += tabWidth;\n        }\n\n        // i should now be at the tab index after the last visible tab because of the loop so we minus 1 to get the new visible tabs\n        return tabs.slice(0, i - 1);\n    },\n\n    moveVisibleTabs: function (oldVisibleTabs, $tabsParent, $dropdownTriggerTab) {\n        var dropdownId = $dropdownTriggerTab.find('a').attr('aria-controls');\n        var $dropdown = $('#' + dropdownId);\n        var newVisibleTabs = this.findNewVisibleTabs(oldVisibleTabs, $tabsParent.outerWidth(), $dropdownTriggerTab.parent().outerWidth(true));\n        var lastTabIndex = newVisibleTabs.length - 1;\n\n        for (var j = oldVisibleTabs.length - 1; j >= lastTabIndex; j--) {\n            var $tab = $(oldVisibleTabs[j]);\n            this.moveTabToResponsiveDropdown($tab, $dropdown, $dropdownTriggerTab);\n        }\n\n        return $(newVisibleTabs);\n    },\n\n    moveTabToResponsiveDropdown: function ($tab, $dropdown, $dropdownTriggerTab) {\n        var $tabLink = $tab.find('a');\n\n        $tab.attr('data-aui-tab-width', $tab.outerWidth(true));\n        $tabLink.addClass('aui-dropdown2-radio aui-tabs-responsive-item');\n\n        if ($tab.hasClass('active-tab')) {\n            $tabLink.addClass('aui-dropdown2-checked');\n            $dropdownTriggerTab.addClass('active-tab');\n        }\n\n        $dropdown.find('ul').prepend($tab);\n    },\n\n    moveInvisibleTabs: function (tabsInDropdown, remainingSpace, $dropdownTriggerTab) {\n        function hasMoreSpace(remainingSpace) {\n            return remainingSpace > 0;\n        }\n\n        for (var i = 0; hasMoreSpace(remainingSpace) && i < tabsInDropdown.length; i++) {\n            var $tab = $(tabsInDropdown[i]);\n            var tabInDropdownWidth = parseInt($tab.attr('data-aui-tab-width'), 10);\n            var shouldMoveTabOut = tabInDropdownWidth < remainingSpace;\n\n            if (shouldMoveTabOut) {\n                this.moveTabOutOfDropdown($tab, $dropdownTriggerTab);\n            }\n\n            remainingSpace -= tabInDropdownWidth;\n        }\n    },\n\n    moveTabOutOfDropdown: function ($tab, $dropdownTriggerTab) {\n        var isTabInDropdownActive = $tab.find('a').hasClass('aui-dropdown2-checked');\n\n        if (isTabInDropdownActive){\n            $tab.addClass('active-tab');\n            $dropdownTriggerTab.removeClass('active-tab');\n        }\n\n        $tab.children('a').removeClass('aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked');\n        $dropdownTriggerTab.before($tab);\n    }\n};\n\n// this function is run by jquery .each() where 'this' is the current tabs container\nfunction calculateResponsiveTabs(tabsContainer, index) {\n    var $tabsContainer = $(tabsContainer);\n    var $tabsMenu = $tabsContainer.find('.tabs-menu').first();\n    var $visibleTabs = $tabsMenu.find('li:not(.aui-tabs-responsive-trigger-item)');\n    var $dropdownTriggerTab = $tabsMenu.find('.aui-tabs-responsive-trigger').parent();\n    var $dropdownTrigger = $dropdownTriggerTab.find('a');\n    var dropdownId =  $dropdownTrigger.attr('aria-controls');\n    var $dropdown = $(document.getElementById(dropdownId)).attr('aria-checked', false);\n    var isResponsive = $dropdown.length > 0;\n    var totalTabsWidth = ResponsiveAdapter.totalTabsWidth($visibleTabs, $dropdown);\n    var needsResponsive = totalTabsWidth > $tabsContainer.outerWidth();\n\n    if (!isResponsive && needsResponsive) {\n        $dropdownTriggerTab = ResponsiveAdapter.createResponsiveDropdownTrigger($tabsMenu, index);\n        $dropdown = ResponsiveAdapter.createResponsiveDropdown($tabsContainer, index);\n    }\n\n    // reset id's in case tabs have changed DOM order\n    $dropdownTrigger.attr('aria-controls', 'aui-tabs-responsive-dropdown-' + index);\n    $dropdownTrigger.attr('id', 'aui-tabs-responsive-trigger-' + index);\n    $dropdownTrigger.attr('href', '#aui-tabs-responsive-trigger-' + index);\n    $dropdown.attr('id', 'aui-tabs-responsive-dropdown-' + index);\n\n    if (needsResponsive) {\n        var $newVisibleTabs = ResponsiveAdapter.moveVisibleTabs($visibleTabs.toArray(), $tabsContainer, $dropdownTriggerTab);\n        var visibleTabWidth = ResponsiveAdapter.totalVisibleTabWidth($newVisibleTabs);\n        var remainingSpace = $tabsContainer.outerWidth() - visibleTabWidth  - $dropdownTriggerTab.outerWidth(true);\n        var hasSpace = remainingSpace > 0;\n\n        if (hasSpace) {\n            var $tabsInDropdown = $dropdown.find('li');\n            ResponsiveAdapter.moveInvisibleTabs($tabsInDropdown.toArray(), remainingSpace, $dropdownTriggerTab);\n        }\n\n        if (!$tabsContainer.hasClass('aui-tabs-disabled')) {\n            $dropdown.on('click', 'a', handleTabClick);\n        }\n\n        /* Workaround for bug in Edge where the dom is just not being re-rendered properly\n        It is only triggered for certain widths. Simply taking the element out of the DOM\n        and placing it back in causes the browser to re-render, hiding the issue.\n        added from AUI-4098 and to be revisited in AUI-4117*/\n        if ($tabsMenu.is(':visible')) {\n            $tabsMenu.hide().show();\n        }\n    }\n\n    if (isResponsive && !needsResponsive) {\n        $dropdown.find('li').each(function () {\n            ResponsiveAdapter.moveTabOutOfDropdown($(this), $dropdownTriggerTab);\n        });\n        ResponsiveAdapter.removeResponsiveDropdown($dropdown, $dropdownTriggerTab);\n    }\n}\n\nfunction switchToTab (tab) {\n    var $tab = $(tab);\n\n    // This probably isn't needed anymore. Remove once confirmed.\n    if ($tab.hasClass('aui-tabs-responsive-trigger')) {\n        return;\n    }\n\n    var pane = getPaneFromTabLink($tab);\n    if (!pane) {\n        logger.error('Cannot switch to tab panel because it does not exist.' +\n            ' Check whether the tab link href is correct.', tab);\n        return;\n    }\n\n    var $pane = $(pane);\n\n    $pane\n        .addClass('active-pane')\n        .attr('aria-hidden', 'false')\n        .siblings('.tabs-pane')\n        .removeClass('active-pane')\n        .attr('aria-hidden', 'true');\n\n    var $dropdownTriggerTab = $tab.parents('.aui-tabs').find('.aui-tabs-responsive-trigger-item a');\n    var dropdownId = $dropdownTriggerTab.attr('aria-controls');\n    var $dropdown = $(document.getElementById(dropdownId));\n\n    $dropdown.find('li a').attr('aria-checked', false).removeClass('checked aui-dropdown2-checked');\n    $dropdown.find('li').removeClass('active-tab');\n\n    $tab\n        .parent('li.menu-item')\n        .addClass('active-tab')\n        .siblings('.menu-item')\n        .removeClass('active-tab');\n\n    if ($tab.hasClass('aui-tabs-responsive-item')) {\n        var $visibleTabs = $pane.parent('.aui-tabs').find('li.menu-item:not(.aui-tabs-responsive-trigger-item)');\n\n        $visibleTabs.removeClass('active-tab');\n        $visibleTabs.find('a').removeClass('checked').removeAttr('aria-checked');\n    }\n\n    if ($tab.hasClass('aui-tabs-responsive-item')) {\n        $pane.parent('.aui-tabs').find('li.menu-item.aui-tabs-responsive-trigger-item').addClass('active-tab');\n    }\n\n    $tab.closest('.tabs-menu').find('a').attr('aria-selected', 'false');\n    $tab.attr('aria-selected', 'true');\n    $tab.trigger('tabSelect', {\n        tab: $tab,\n        pane: $pane\n    });\n}\n\nfunction isPersistentTabGroup($tabGroup) {\n    // Tab group persistent attribute exists and is not false\n    return $tabGroup.attr('data-aui-persist') !== undefined && $tabGroup.attr('data-aui-persist') !== 'false';\n}\n\nfunction createPersistentKey($tabGroup) {\n    var tabGroupId = $tabGroup.attr('id');\n    var value = $tabGroup.attr('data-aui-persist');\n\n    return STORAGE_PREFIX + (tabGroupId ? tabGroupId : '') + (value && value !== 'true' ? '-' + value : '');\n}\n\n/* eslint max-depth: 1 */\nfunction updateTabsFromLocalStorage($tabGroups) {\n    for (var i = 0, ii = $tabGroups.length; i < ii; i++) {\n        var $tabGroup = $tabGroups.eq(i);\n        var tabs = $tabGroups.get(i);\n\n        if (isPersistentTabGroup($tabGroup) && window.localStorage) {\n            var tabGroupId = $tabGroup.attr('id');\n\n            if (tabGroupId) {\n                var persistentTabId = window.localStorage.getItem(createPersistentKey($tabGroup));\n\n                if (persistentTabId) {\n                    var anchor = tabs.querySelector(`a[href$=\"${persistentTabId}\"]`);\n\n                    if (anchor) {\n                        switchToTab(anchor);\n                    }\n                }\n            } else {\n                logger.warn('A tab group must specify an id attribute if it specifies data-aui-persist.');\n            }\n        }\n    }\n}\n\nfunction updateLocalStorageEntry ($tab) {\n    var $tabGroup = $tab.closest('.aui-tabs');\n    var tabGroupId = $tabGroup.attr('id');\n\n    if (tabGroupId) {\n        var tabId = getPaneIdFromTabLink($tab);\n\n        if (tabId) {\n            window.localStorage.setItem(createPersistentKey($tabGroup),'#' + tabId);\n        }\n    } else {\n        logger.warn('A tab group must specify an id attribute if it specifies data-aui-persist.');\n    }\n}\n\nfunction handleTabClick (e) {\n    tabs.change($(e.target).closest('a'));\n\n    if (e) {\n        e.preventDefault();\n    }\n}\n\nfunction responsiveResizeHandler (tabs) {\n    tabs.forEach(function (tab, index) {\n        calculateResponsiveTabs(tab, index);\n    });\n}\n\n\n// Initialisation\n// --------------\n\nfunction getTabs () {\n    return $('.aui-tabs:not(.aui-tabs-disabled)');\n}\n\nfunction getResponsiveTabs () {\n    return $(RESPONSIVE_OPT_IN_SELECTOR).toArray();\n}\n\nfunction initWindow () {\n    var debounced = debounce(responsiveResizeHandler, 200);\n    var responsive = getResponsiveTabs();\n\n    responsiveResizeHandler(responsive);\n\n    $(window).on('resize', function () {\n        debounced(responsive);\n    });\n}\n\nfunction initTab (tab) {\n    var $tab = $(tab);\n\n    tab.setAttribute('role', 'application');\n\n    if (!$tab.data('aui-tab-events-bound')) {\n        var $tabMenu = $tab.children('ul.tabs-menu');\n\n        // ARIA setup\n        $tabMenu.attr('role', 'tablist');\n\n        // ignore the LIs so tab count is announced correctly\n        $tabMenu.children('li').attr('role', 'presentation');\n        $tabMenu.find('> .menu-item a').each(function () {\n            enhanceTabLink(this);\n        });\n\n        // Set up click event for tabs\n        $tabMenu.on('click', 'a', handleTabClick);\n        $tab.data('aui-tab-events-bound', true);\n\n        initPanes(tab);\n    }\n}\n\nfunction initTabs () {\n    var tabs = getTabs();\n\n    tabs.each(function () {\n        initTab(this);\n    });\n\n    updateTabsFromLocalStorage(tabs);\n}\n\nfunction initPane (pane) {\n    pane.setAttribute('role', 'tabpanel');\n    pane.setAttribute('aria-hidden', $(pane).hasClass('active-pane') ? 'false' : 'true');\n}\n\nfunction initPanes (tab) {\n    [].slice.call(tab.querySelectorAll('.tabs-pane')).forEach(initPane);\n}\n\nfunction initVerticalTabs () {\n    // Vertical tab truncation setup (adds title if clipped)\n    $('.aui-tabs.vertical-tabs').find('a').each(function () {\n        var thisTab = $(this);\n\n        // don't override existing titles\n        if (!thisTab.attr('title')) {\n            // if text has been truncated, add title\n            if (isClipped(thisTab)) {\n                thisTab.attr('title', thisTab.text());\n            }\n        }\n    });\n}\n\nvar tabs = {\n    setup: function () {\n        initWindow();\n        initTabs();\n        initVerticalTabs();\n    },\n\n    change: function (a) {\n        var $a = $(a);\n        var $tabGroup = $a.closest('.aui-tabs');\n\n        switchToTab($a);\n\n        if (isPersistentTabGroup($tabGroup) && window.localStorage) {\n            updateLocalStorageEntry($a);\n        }\n    }\n};\n\n$(tabs.setup);\n\n\n// Web Components\n// --------------\n\nfunction findComponent (element) {\n    return $(element).closest('aui-tabs').get(0);\n}\n\nfunction findPanes (tabs) {\n    return tabs.querySelectorAll('aui-tabs-pane');\n}\n\nfunction findTabs (tabs) {\n    return tabs.querySelectorAll('li[is=aui-tabs-tab]');\n}\n\nconst TabContainerEl = skate('aui-tabs', {\n    created: function (element) {\n        $(element).addClass('aui-tabs horizontal-tabs');\n\n        // We must initialise here so that the old code still works since\n        // the lifecycle of the sub-components setup the markup so that it\n        // can be processed by the old logic.\n        skate.init(element);\n\n        // Use the old logic to initialise the tabs.\n        initTab(element);\n    },\n    template: template(\n        '<ul class=\"tabs-menu\">',\n        '<content select=\"li[is=aui-tabs-tab]\"></content>',\n        '</ul>',\n        '<content select=\"aui-tabs-pane\"></content>'\n    ),\n    prototype: {\n        select: function (element) {\n            var index = $(findPanes(this)).index(element);\n\n            if (index > -1) {\n                tabs.change(findTabs(this)[index].children[0]);\n            }\n\n            return this;\n        }\n    }\n});\n\nconst TabItemEl = skate('aui-tabs-tab', {\n    extends: 'li',\n    created: function (element) {\n        $(element).addClass('menu-item');\n    },\n    template: template(\n        '<a href=\"#\">',\n        '<strong>',\n        '<content></content>',\n        '</strong>',\n        '</a>'\n    )\n});\n\nconst TabPaneEl = skate('aui-tabs-pane', {\n    attached: function (element) {\n        var $component = $(findComponent(element));\n        var $element = $(element);\n        var index = $component.find('aui-tabs-pane').index($element);\n        var tab = new TabItemEl();\n        var $tab = $(tab);\n\n        $element.addClass('tabs-pane');\n        tab.firstChild.setAttribute('href', '#' + element.id);\n        template.wrap(tab).textContent = $element.attr('title');\n\n        if (index === 0) {\n            $element.addClass('active-pane');\n        }\n\n        if ($element.hasClass('active-pane')) {\n            $tab.addClass('active-tab');\n        }\n\n        $element.siblings('ul').append(tab);\n    },\n    template: template(\n        '<content></content>'\n    )\n});\n\nglobalize('tabs', tabs);\n\nexport default tabs;\nexport {\n    TabContainerEl,\n    TabPaneEl,\n    TabItemEl\n};\n","import $ from './jquery';\nimport globalize from './internal/globalize';\n\n/**\n * Shortcut function to see if passed element is truncated/clipped, eg. with\n * text-overflow: ellipsis.\n *\n * @param {String | Element | jQuery} element The element to check.\n *\n * @returns {Boolean}\n */\nfunction isClipped (el) {\n    el = $(el);\n    return (el.prop('scrollWidth') > el.prop('clientWidth'));\n}\n\nglobalize('isClipped', isClipped);\n\nexport default isClipped;\n","import './aui.page.reset';\nimport './aui.page.typography';\nimport '@atlassian/aui/src/less/tabs.less';\n","import $ from '../jquery';\nimport globalize from './globalize';\nimport uniqueId from '../unique-id';\n\n/**\n * Apply a unique ID to the element. Preserves ID if the element already has one.\n *\n * @param {Element} el Selector to find target element.\n * @param {string} [prefix] Optional. String to prepend to ID instead of default AUI prefix.\n *\n * @returns {undefined}\n */\nfunction addId (el, prefix = '') {\n    var element = $(el);\n    var addprefix = prefix || false;\n\n    element.each(function () {\n        var $el = $(this);\n\n        if (!$el.attr('id')) {\n            $el.attr('id', uniqueId(addprefix));\n        }\n    });\n}\n\nglobalize('_addID', addId);\n\nexport default addId;\n","import './styles/aui.pattern.tabs';\nimport './aui.component.dropdown2'; // to make responsive tabs work.\nexport * from '@atlassian/aui/src/js/aui/tabs';\n"],"sourceRoot":""}